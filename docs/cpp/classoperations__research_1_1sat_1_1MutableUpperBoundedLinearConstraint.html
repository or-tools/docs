<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::MutableUpperBoundedLinearConstraint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.5</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::MutableUpperBoundedLinearConstraint Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aded9637d311bffd5feb64f12d7b33ddc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#aded9637d311bffd5feb64f12d7b33ddc">ClearAndResize</a> (int num_variables)</td></tr>
<tr class="separator:aded9637d311bffd5feb64f12d7b33ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9b63c72d02a80a8f76efbb0f020a3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a4a9b63c72d02a80a8f76efbb0f020a3f">ClearAll</a> ()</td></tr>
<tr class="separator:a4a9b63c72d02a80a8f76efbb0f020a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4f0c57c2ccd185f7f128945e695670"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a4c4f0c57c2ccd185f7f128945e695670">GetCoefficient</a> (BooleanVariable <a class="el" href="expr__array_8cc.html#a472a99923cbe11ae7b5a5d157d9ad465">var</a>) const</td></tr>
<tr class="memdesc:a4c4f0c57c2ccd185f7f128945e695670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the coefficient (&gt;= 0) of the given variable.  <br /></td></tr>
<tr class="separator:a4c4f0c57c2ccd185f7f128945e695670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb76e8e820c43b43666ee4bc21da2758"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#afb76e8e820c43b43666ee4bc21da2758">GetLiteral</a> (BooleanVariable <a class="el" href="expr__array_8cc.html#a472a99923cbe11ae7b5a5d157d9ad465">var</a>) const</td></tr>
<tr class="separator:afb76e8e820c43b43666ee4bc21da2758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467eaf21318efb233670a0035a2eae34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a467eaf21318efb233670a0035a2eae34">ReduceCoefficients</a> ()</td></tr>
<tr class="separator:a467eaf21318efb233670a0035a2eae34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f5971f2cddc434c47d9f53f94e9f83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a89f5971f2cddc434c47d9f53f94e9f83">ReduceGivenCoefficient</a> (BooleanVariable <a class="el" href="expr__array_8cc.html#a472a99923cbe11ae7b5a5d157d9ad465">var</a>)</td></tr>
<tr class="separator:a89f5971f2cddc434c47d9f53f94e9f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56db11b9d396d13e4cff87b74b086d81"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a56db11b9d396d13e4cff87b74b086d81">ComputeSlackForTrailPrefix</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index) const</td></tr>
<tr class="separator:a56db11b9d396d13e4cff87b74b086d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8ea04aaae8c892a39770e35eced029"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a2d8ea04aaae8c892a39770e35eced029">ReduceCoefficientsAndComputeSlackForTrailPrefix</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index)</td></tr>
<tr class="separator:a2d8ea04aaae8c892a39770e35eced029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81aca664e5b32ca43ccab9c5e710d693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a81aca664e5b32ca43ccab9c5e710d693">ReduceSlackTo</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index, Coefficient initial_slack, Coefficient target)</td></tr>
<tr class="separator:a81aca664e5b32ca43ccab9c5e710d693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db1eccdb9a04a18f371cc0cf09d3a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a7db1eccdb9a04a18f371cc0cf09d3a86">CopyIntoVector</a> (std::vector&lt; <a class="el" href="structoperations__research_1_1sat_1_1LiteralWithCoeff.html">LiteralWithCoeff</a> &gt; *output)</td></tr>
<tr class="memdesc:a7db1eccdb9a04a18f371cc0cf09d3a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies this constraint into a vector&lt;LiteralWithCoeff&gt; representation.  <br /></td></tr>
<tr class="separator:a7db1eccdb9a04a18f371cc0cf09d3a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d106dcb86bcf02c8ce9920623cb2ae1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a6d106dcb86bcf02c8ce9920623cb2ae1">AddToRhs</a> (Coefficient <a class="el" href="demon__profiler_8cc.html#ac072af30c4ffbc834bb4c681f6ecb514">value</a>)</td></tr>
<tr class="memdesc:a6d106dcb86bcf02c8ce9920623cb2ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a non-negative value to this constraint <a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a435518c060da88337b67f4705c5bdce3">Rhs()</a>.  <br /></td></tr>
<tr class="separator:a6d106dcb86bcf02c8ce9920623cb2ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435518c060da88337b67f4705c5bdce3"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a435518c060da88337b67f4705c5bdce3">Rhs</a> () const</td></tr>
<tr class="separator:a435518c060da88337b67f4705c5bdce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1669b2d715f0ee51834fe8417e966d7d"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a1669b2d715f0ee51834fe8417e966d7d">MaxSum</a> () const</td></tr>
<tr class="separator:a1669b2d715f0ee51834fe8417e966d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99fc238f4a0bf4fc26b0c1c903f2628d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a99fc238f4a0bf4fc26b0c1c903f2628d">AddTerm</a> (<a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> <a class="el" href="optimization_8cc.html#af63dcc00f2023fdf498e0829e6fb8a6b">literal</a>, Coefficient coeff)</td></tr>
<tr class="separator:a99fc238f4a0bf4fc26b0c1c903f2628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f1c1646c24a27e12d600e2ca85b29a"><td class="memItemLeft" align="right" valign="top">Coefficient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a35f1c1646c24a27e12d600e2ca85b29a">CancelationAmount</a> (<a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> <a class="el" href="optimization_8cc.html#af63dcc00f2023fdf498e0829e6fb8a6b">literal</a>, Coefficient coeff) const</td></tr>
<tr class="memdesc:a35f1c1646c24a27e12d600e2ca85b29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the "cancelation" amount of AddTerm(literal, coeff).  <br /></td></tr>
<tr class="separator:a35f1c1646c24a27e12d600e2ca85b29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dde439b923658cb915cde6ddeb5afc6"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; BooleanVariable &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a7dde439b923658cb915cde6ddeb5afc6">PossibleNonZeros</a> () const</td></tr>
<tr class="separator:a7dde439b923658cb915cde6ddeb5afc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b389838953546fe8cd135ace7a0c55"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a20b389838953546fe8cd135ace7a0c55">DebugString</a> ()</td></tr>
<tr class="memdesc:a20b389838953546fe8cd135ace7a0c55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of the constraint.  <br /></td></tr>
<tr class="separator:a20b389838953546fe8cd135ace7a0c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encode a constraint sum term &lt;= rhs, where each term is a positive Coefficient times a literal. This class allows efficient modification of the constraint and is used during pseudo-Boolean resolution. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00183">183</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a99fc238f4a0bf4fc26b0c1c903f2628d" name="a99fc238f4a0bf4fc26b0c1c903f2628d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99fc238f4a0bf4fc26b0c1c903f2628d">&#9670;&#160;</a></span>AddTerm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::AddTerm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a>&#160;</td>
          <td class="paramname"><em>literal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Coefficient&#160;</td>
          <td class="paramname"><em>coeff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a term to this constraint. This is in the .h for efficiency. The encoding used internally is described below in the terms_ comment. </p>
<p>The two terms are of opposite sign, a "cancelation" happens. We need to change the encoding of the lower magnitude term.</p><ul>
<li>If term &gt; 0, term . x -&gt; term . (x - 1) + term</li>
<li>If term &lt; 0, term . (x - 1) -&gt; term . x - term In both cases, rhs -= abs(term).</li>
</ul>
<p>Both terms are of the same sign (or terms_[var] is zero).</p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00283">283</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a6d106dcb86bcf02c8ce9920623cb2ae1" name="a6d106dcb86bcf02c8ce9920623cb2ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d106dcb86bcf02c8ce9920623cb2ae1">&#9670;&#160;</a></span>AddToRhs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::AddToRhs </td>
          <td>(</td>
          <td class="paramtype">Coefficient&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a non-negative value to this constraint <a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a435518c060da88337b67f4705c5bdce3">Rhs()</a>. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00274">274</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a35f1c1646c24a27e12d600e2ca85b29a" name="a35f1c1646c24a27e12d600e2ca85b29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f1c1646c24a27e12d600e2ca85b29a">&#9670;&#160;</a></span>CancelationAmount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::CancelationAmount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a>&#160;</td>
          <td class="paramname"><em>literal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Coefficient&#160;</td>
          <td class="paramname"><em>coeff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the "cancelation" amount of AddTerm(literal, coeff). </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00306">306</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a4a9b63c72d02a80a8f76efbb0f020a3f" name="a4a9b63c72d02a80a8f76efbb0f020a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9b63c72d02a80a8f76efbb0f020a3f">&#9670;&#160;</a></span>ClearAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::ClearAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the constraint to 0 &lt;= 0. </p><dl class="section note"><dt>Note</dt><dd>the constraint size stays the same. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001762">Todo:</a></b></dt><dd>(user): We could be more efficient and have only one loop here. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00262">262</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="aded9637d311bffd5feb64f12d7b33ddc" name="aded9637d311bffd5feb64f12d7b33ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded9637d311bffd5feb64f12d7b33ddc">&#9670;&#160;</a></span>ClearAndResize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::ClearAndResize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_variables</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This must be called before any other functions is used with an higher variable index. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00251">251</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a56db11b9d396d13e4cff87b74b086d81" name="a56db11b9d396d13e4cff87b74b086d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56db11b9d396d13e4cff87b74b086d81">&#9670;&#160;</a></span>ComputeSlackForTrailPrefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::ComputeSlackForTrailPrefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;&#160;</td>
          <td class="paramname"><em>trail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trail_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the constraint slack assuming that only the variables with index &lt; trail_index are assigned.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001764">Todo:</a></b></dt><dd>(user): Keep this for DCHECK(), but maintain the slack incrementally instead of recomputing it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00302">302</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a7db1eccdb9a04a18f371cc0cf09d3a86" name="a7db1eccdb9a04a18f371cc0cf09d3a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db1eccdb9a04a18f371cc0cf09d3a86">&#9670;&#160;</a></span>CopyIntoVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::CopyIntoVector </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structoperations__research_1_1sat_1_1LiteralWithCoeff.html">LiteralWithCoeff</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies this constraint into a vector&lt;LiteralWithCoeff&gt; representation. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00382">382</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a20b389838953546fe8cd135ace7a0c55" name="a20b389838953546fe8cd135ace7a0c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20b389838953546fe8cd135ace7a0c55">&#9670;&#160;</a></span>DebugString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string operations_research::sat::MutableUpperBoundedLinearConstraint::DebugString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a string representation of the constraint. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00289">289</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a4c4f0c57c2ccd185f7f128945e695670" name="a4c4f0c57c2ccd185f7f128945e695670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4f0c57c2ccd185f7f128945e695670">&#9670;&#160;</a></span>GetCoefficient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::GetCoefficient </td>
          <td>(</td>
          <td class="paramtype">BooleanVariable&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the coefficient (&gt;= 0) of the given variable. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00194">194</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="afb76e8e820c43b43666ee4bc21da2758" name="afb76e8e820c43b43666ee4bc21da2758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb76e8e820c43b43666ee4bc21da2758">&#9670;&#160;</a></span>GetLiteral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> operations_research::sat::MutableUpperBoundedLinearConstraint::GetLiteral </td>
          <td>(</td>
          <td class="paramtype">BooleanVariable&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the literal under which the given variable appear in the constraint. Note that if GetCoefficient(var) == 0 this just returns Literal(var, true). </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00201">201</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a1669b2d715f0ee51834fe8417e966d7d" name="a1669b2d715f0ee51834fe8417e966d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1669b2d715f0ee51834fe8417e966d7d">&#9670;&#160;</a></span>MaxSum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::MaxSum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00279">279</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a7dde439b923658cb915cde6ddeb5afc6" name="a7dde439b923658cb915cde6ddeb5afc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dde439b923658cb915cde6ddeb5afc6">&#9670;&#160;</a></span>PossibleNonZeros()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; BooleanVariable &gt; &amp; operations_research::sat::MutableUpperBoundedLinearConstraint::PossibleNonZeros </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a set of positions that contains all the non-zeros terms of the constraint. Note that this set can also contains some zero terms. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00315">315</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a467eaf21318efb233670a0035a2eae34" name="a467eaf21318efb233670a0035a2eae34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467eaf21318efb233670a0035a2eae34">&#9670;&#160;</a></span>ReduceCoefficients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::ReduceCoefficients </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we have a lower bounded constraint sum terms &gt;= rhs, then it is trivial to see that the coefficient of any term can be reduced to rhs if it is bigger. This does exactly this operation, but on the upper bounded representation.</p>
<p>If we take a constraint sum ci.xi &lt;= rhs, take its negation and add max_sum on both side, we have sum ci.(1 - xi) &gt;= max_sum - rhs So every ci &gt; (max_sum - rhs) can be replacend by (max_sum - rhs). Not that this operation also change the original rhs of the constraint.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001763">Todo:</a></b></dt><dd>(user): Also reduce the trivially false literal when coeff &gt; rhs_ ? </dd></dl>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00273">273</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a2d8ea04aaae8c892a39770e35eced029" name="a2d8ea04aaae8c892a39770e35eced029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8ea04aaae8c892a39770e35eced029">&#9670;&#160;</a></span>ReduceCoefficientsAndComputeSlackForTrailPrefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::ReduceCoefficientsAndComputeSlackForTrailPrefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;&#160;</td>
          <td class="paramname"><em>trail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trail_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a467eaf21318efb233670a0035a2eae34">ReduceCoefficients()</a> followed by <a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a56db11b9d396d13e4cff87b74b086d81">ComputeSlackForTrailPrefix()</a>. It allows to loop only once over all the terms of the constraint instead of doing it twice. This helps since doing that can be the main bottleneck.</p>
<dl class="section note"><dt>Note</dt><dd>this function assumes that the returned slack will be negative. This allow to DCHECK some assumptions on what coefficients can be reduced or not.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001778">Todo:</a></b></dt><dd>(user): Ideally the slack should be maitainable incrementally. </dd></dl>
<p>Because we assume the slack (rhs - activity) to be negative, we have coeff + rhs - max_sum_ &lt;= coeff + rhs - (activity + coeff) &lt;= slack &lt; 0</p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00315">315</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a89f5971f2cddc434c47d9f53f94e9f83" name="a89f5971f2cddc434c47d9f53f94e9f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f5971f2cddc434c47d9f53f94e9f83">&#9670;&#160;</a></span>ReduceGivenCoefficient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::ReduceGivenCoefficient </td>
          <td>(</td>
          <td class="paramtype">BooleanVariable&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as <a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html#a467eaf21318efb233670a0035a2eae34">ReduceCoefficients()</a> but only consider the coefficient of the given variable. </p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00218">218</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<a id="a81aca664e5b32ca43ccab9c5e710d693" name="a81aca664e5b32ca43ccab9c5e710d693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81aca664e5b32ca43ccab9c5e710d693">&#9670;&#160;</a></span>ReduceSlackTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::MutableUpperBoundedLinearConstraint::ReduceSlackTo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;&#160;</td>
          <td class="paramname"><em>trail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trail_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Coefficient&#160;</td>
          <td class="paramname"><em>initial_slack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Coefficient&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Relaxes the constraint so that:</p><ul>
<li>ComputeSlackForTrailPrefix(trail, trail_index) == target;</li>
<li>All the variables that were propagated given the assignment &lt; trail_index are still propagated.</li>
</ul>
<p>As a precondition, ComputeSlackForTrailPrefix(trail, trail_index) &gt;= target </p><dl class="section note"><dt>Note</dt><dd>nothing happen if the slack is already equals to target.</dd></dl>
<p>Algorithm: Let diff = slack - target (&gt;= 0). We will split the constraint linear expression in 3 parts:</p><ul>
<li>P1: the true variables (only the one assigned &lt; trail_index).</li>
<li>P2: the other variables with a coeff &gt; diff. <dl class="section note"><dt>Note</dt><dd>all these variables were the propagated ones.</dd></dl>
</li>
<li>P3: the other variables with a coeff &lt;= diff. We can then transform P1 + P2 + P3 &lt;= rhs_ into P1 + P2' &lt;= rhs_ - diff Where P2' is the same sum as P2 with all the coefficient reduced by diff.</li>
</ul>
<p>Proof: Given the old constraint, we want to show that the relaxed one is always true. If all the variable in P2' are false, then P1 &lt;= rhs_ - slack &lt;= rhs_ - diff is always true. If at least one of the P2' variable is true, then P2 &gt;= P2' + diff and we have P1 + P2' + diff &lt;= P1 + P2 &lt;= rhs_. </p>
<p>Positive slack.</p>
<p>This is not stricly needed, but true in our use case: The variable assigned at trail_index was causing a conflict.</p>
<p>Nothing to do if the slack is already target.</p>
<p>Applies the algorithm described in the .h</p>

<p class="definition">Definition at line <a class="el" href="pb__constraint_8cc_source.html#l00345">345</a> of file <a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a>.</p>

</div>
</div>
<a id="a435518c060da88337b67f4705c5bdce3" name="a435518c060da88337b67f4705c5bdce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435518c060da88337b67f4705c5bdce3">&#9670;&#160;</a></span>Rhs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Coefficient operations_research::sat::MutableUpperBoundedLinearConstraint::Rhs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pb__constraint_8h_source.html#l00278">278</a> of file <a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="pb__constraint_8h_source.html">pb_constraint.h</a></li>
<li>ortools/sat/<a class="el" href="pb__constraint_8cc_source.html">pb_constraint.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1MutableUpperBoundedLinearConstraint.html">MutableUpperBoundedLinearConstraint</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
