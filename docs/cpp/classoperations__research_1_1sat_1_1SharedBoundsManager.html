<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::SharedBoundsManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.6</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classoperations__research_1_1sat_1_1SharedBoundsManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1sat_1_1SharedBoundsManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::SharedBoundsManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="synchronization_8h_source.html">synchronization.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae017b893b05588b21d8667976773544b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#ae017b893b05588b21d8667976773544b">SharedBoundsManager</a> (const CpModelProto &amp;<a class="el" href="cp__model__solver_8cc.html#a6ac76d8a372013f67c4973012948ec84">model_proto</a>)</td></tr>
<tr class="separator:ae017b893b05588b21d8667976773544b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58f95aa33b844058c4253d0dbf7862b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#af58f95aa33b844058c4253d0dbf7862b">ReportPotentialNewBounds</a> (const std::string &amp;worker_name, const std::vector&lt; int &gt; &amp;variables, const std::vector&lt; int64_t &gt; &amp;new_lower_bounds, const std::vector&lt; int64_t &gt; &amp;new_upper_bounds)</td></tr>
<tr class="separator:af58f95aa33b844058c4253d0dbf7862b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52efbe166740ce4b1f22c820a64ffc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#aa52efbe166740ce4b1f22c820a64ffc6">FixVariablesFromPartialSolution</a> (const std::vector&lt; int64_t &gt; &amp;<a class="el" href="namespaceoperations__research.html#a35a30dc825cd0afa0e095f47118cd3cd">solution</a>, const std::vector&lt; int &gt; &amp;variables_to_fix)</td></tr>
<tr class="separator:aa52efbe166740ce4b1f22c820a64ffc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1360d8efc49d1dfb485219e9e9b2df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#afe1360d8efc49d1dfb485219e9e9b2df">RegisterNewId</a> ()</td></tr>
<tr class="separator:afe1360d8efc49d1dfb485219e9e9b2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29edc993736be2d933b31b91f78a562"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#ac29edc993736be2d933b31b91f78a562">GetChangedBounds</a> (int id, std::vector&lt; int &gt; *variables, std::vector&lt; int64_t &gt; *new_lower_bounds, std::vector&lt; int64_t &gt; *new_upper_bounds)</td></tr>
<tr class="separator:ac29edc993736be2d933b31b91f78a562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588251f316c07272f1f172a25eed3c73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#a588251f316c07272f1f172a25eed3c73">Synchronize</a> ()</td></tr>
<tr class="separator:a588251f316c07272f1f172a25eed3c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d9b51fb79f844edf336b1d9a584110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#a55d9b51fb79f844edf336b1d9a584110">LogStatistics</a> (<a class="el" href="classoperations__research_1_1SolverLogger.html">SolverLogger</a> *logger)</td></tr>
<tr class="separator:a55d9b51fb79f844edf336b1d9a584110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff62f62bc0311cbf7bfe05d067889ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#a8ff62f62bc0311cbf7bfe05d067889ac">NumBoundsExported</a> (const std::string &amp;worker_name)</td></tr>
<tr class="separator:a8ff62f62bc0311cbf7bfe05d067889ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0370fea218d6daf33dc18b29af0213dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#a0370fea218d6daf33dc18b29af0213dd">LoadDebugSolution</a> (absl::Span&lt; const int64_t &gt; <a class="el" href="namespaceoperations__research.html#a35a30dc825cd0afa0e095f47118cd3cd">solution</a>)</td></tr>
<tr class="separator:a0370fea218d6daf33dc18b29af0213dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class manages a pool of lower and upper bounds on a set of variables in a parallel context. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00438">438</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae017b893b05588b21d8667976773544b" name="ae017b893b05588b21d8667976773544b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae017b893b05588b21d8667976773544b">&#9670;&#160;</a></span>SharedBoundsManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::SharedBoundsManager::SharedBoundsManager </td>
          <td>(</td>
          <td class="paramtype">const CpModelProto &amp;&#160;</td>
          <td class="paramname"><em>model_proto</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00765">765</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa52efbe166740ce4b1f22c820a64ffc6" name="aa52efbe166740ce4b1f22c820a64ffc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52efbe166740ce4b1f22c820a64ffc6">&#9670;&#160;</a></span>FixVariablesFromPartialSolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::FixVariablesFromPartialSolution </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables_to_fix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we solved a small independent component of the full problem, then we can in most situation fix the solution on this subspace.</p>
<dl class="section note"><dt>Note</dt><dd>because there can be more than one optimal solution on an independent subproblem, it is important to do that in a locked fashion, and reject future incompatible fixing.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002065">Todo:</a></b></dt><dd>(user): Because we look at the non-synchronized and up to date bounds, this break determinism if two solution for the same subpart comes at the same time. </dd></dl>
<p>Abort if incompatible. Note that we only check the position that we are about to fix. This should be enough. Otherwise we might never accept any solution because the base LNS solution was not the same in some of the variables that we fixed here.</p>
<p>Fix the variables.</p>
<p>This is problematic as we might find a different partial solution. To allow for further investigation, we currently fix it to the debug solution instead.</p>

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00830">830</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="ac29edc993736be2d933b31b91f78a562" name="ac29edc993736be2d933b31b91f78a562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29edc993736be2d933b31b91f78a562">&#9670;&#160;</a></span>GetChangedBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::GetChangedBounds </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int64_t &gt; *&#160;</td>
          <td class="paramname"><em>new_lower_bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int64_t &gt; *&#160;</td>
          <td class="paramname"><em>new_upper_bounds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When called, returns the set of bounds improvements since the last time this method was called with the same id. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00906">906</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="a0370fea218d6daf33dc18b29af0213dd" name="a0370fea218d6daf33dc18b29af0213dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0370fea218d6daf33dc18b29af0213dd">&#9670;&#160;</a></span>LoadDebugSolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::LoadDebugSolution </td>
          <td>(</td>
          <td class="paramtype">absl::Span&lt; const int64_t &gt;&#160;</td>
          <td class="paramname"><em>solution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If non-empty, we will check that all bounds update contains this solution. </p><dl class="section note"><dt>Note</dt><dd>this might fail once we reach optimality and we might have wrong bounds, but if it fail before that it can help find bugs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00481">481</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a55d9b51fb79f844edf336b1d9a584110" name="a55d9b51fb79f844edf336b1d9a584110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d9b51fb79f844edf336b1d9a584110">&#9670;&#160;</a></span>LogStatistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::LogStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1SolverLogger.html">SolverLogger</a> *&#160;</td>
          <td class="paramname"><em>logger</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00922">922</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="a8ff62f62bc0311cbf7bfe05d067889ac" name="a8ff62f62bc0311cbf7bfe05d067889ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff62f62bc0311cbf7bfe05d067889ac">&#9670;&#160;</a></span>NumBoundsExported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::sat::SharedBoundsManager::NumBoundsExported </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>worker_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00933">933</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="afe1360d8efc49d1dfb485219e9e9b2df" name="afe1360d8efc49d1dfb485219e9e9b2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1360d8efc49d1dfb485219e9e9b2df">&#9670;&#160;</a></span>RegisterNewId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::sat::SharedBoundsManager::RegisterNewId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a new id to be used in <a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#ac29edc993736be2d933b31b91f78a562">GetChangedBounds()</a>. This is just an ever increasing sequence starting from zero. Note that the class is not designed to have too many of these. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00889">889</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="af58f95aa33b844058c4253d0dbf7862b" name="af58f95aa33b844058c4253d0dbf7862b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58f95aa33b844058c4253d0dbf7862b">&#9670;&#160;</a></span>ReportPotentialNewBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::ReportPotentialNewBounds </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>worker_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_lower_bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_upper_bounds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports a set of locally improved variable bounds to the shared bounds manager. The manager will compare these bounds changes against its global state, and incorporate the improving ones. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00784">784</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<a id="a588251f316c07272f1f172a25eed3c73" name="a588251f316c07272f1f172a25eed3c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588251f316c07272f1f172a25eed3c73">&#9670;&#160;</a></span>Synchronize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SharedBoundsManager::Synchronize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publishes any new bounds so that <a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html#ac29edc993736be2d933b31b91f78a562">GetChangedBounds()</a> will reflect the latest state. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8cc_source.html#l00876">876</a> of file <a class="el" href="synchronization_8cc_source.html">synchronization.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="synchronization_8h_source.html">synchronization.h</a></li>
<li>ortools/sat/<a class="el" href="synchronization_8cc_source.html">synchronization.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1SharedBoundsManager.html">SharedBoundsManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
