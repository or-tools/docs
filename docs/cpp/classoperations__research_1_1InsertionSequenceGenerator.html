<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::InsertionSequenceGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.10</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1InsertionSequenceGenerator.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1InsertionSequenceGenerator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::InsertionSequenceGenerator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Generates insertion positions respecting structural constraints.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="routing__search_8h_source.html">routing_search.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa52872894ffbe3ea97a3f0cb1299e652" id="r_aa52872894ffbe3ea97a3f0cb1299e652"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa52872894ffbe3ea97a3f0cb1299e652">InsertionSequenceGenerator</a> ()</td></tr>
<tr class="separator:aa52872894ffbe3ea97a3f0cb1299e652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6553db2c73cb57eddf0d6ccaccf76c" id="r_a6f6553db2c73cb57eddf0d6ccaccf76c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f6553db2c73cb57eddf0d6ccaccf76c">AppendPickupDeliveryMultitourInsertions</a> (int pickup, int delivery, int vehicle, const std::vector&lt; int &gt; &amp;path, const std::vector&lt; bool &gt; &amp;path_node_is_pickup, const std::vector&lt; bool &gt; &amp;path_node_is_delivery, <a class="el" href="classoperations__research_1_1InsertionSequenceContainer.html">InsertionSequenceContainer</a> &amp;insertions)</td></tr>
<tr class="separator:a6f6553db2c73cb57eddf0d6ccaccf76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generates insertion positions respecting structural constraints. </p>

<p class="definition">Definition at line <a class="el" href="routing__search_8h_source.html#l01011">1011</a> of file <a class="el" href="routing__search_8h_source.html">routing_search.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa52872894ffbe3ea97a3f0cb1299e652" name="aa52872894ffbe3ea97a3f0cb1299e652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52872894ffbe3ea97a3f0cb1299e652">&#9670;&#160;</a></span>InsertionSequenceGenerator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::InsertionSequenceGenerator::InsertionSequenceGenerator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="routing__search_8h_source.html#l01013">1013</a> of file <a class="el" href="routing__search_8h_source.html">routing_search.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6f6553db2c73cb57eddf0d6ccaccf76c" name="a6f6553db2c73cb57eddf0d6ccaccf76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6553db2c73cb57eddf0d6ccaccf76c">&#9670;&#160;</a></span>AppendPickupDeliveryMultitourInsertions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::InsertionSequenceGenerator::AppendPickupDeliveryMultitourInsertions </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pickup</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>delivery</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>vehicle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; bool &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path_node_is_pickup</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; bool &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path_node_is_delivery</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1InsertionSequenceContainer.html">InsertionSequenceContainer</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>insertions</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates insertions for a pickup and delivery pair in a multitour path:</p><ul>
<li>a series of pickups may only start if all the deliveries of previous pickups have been performed.</li>
<li>given a maximal pickup*delivery* subsequence, either the pickups or the deliveries are symmetric, meaning their order does not matter. Under these specifications, this method generates all unique insertions of the given pair that keep the multitour property. <dl class="section note"><dt>Note</dt><dd>there are several ways one can extend pure pickup and delivery problems to mixed paired and unpaired visits. Two extreme views:</dd></dl>
</li>
<li>multitour heuristics should consider that only consecutive pickups or consecutive deliveries have a symmetry. Heuristics should only break those symmetries, in the mixed case inserting a pair in a path of length p has O(p²) possibilities.</li>
<li>multitour heuristics should not consider unpaired visits. Insertions are made on the subpath of paired nodes, all extensions to the original path that conserve order are equivalent. </li>
</ul>
<p>Find insertion positions for the input pair, pickup P and delivery D.</p>
<p>Avoids duplicate insertions. If next_increase_[pos] - 1 == pos:</p><ul>
<li>append(pos, pos) is append(pos, next_increase_[pos] - 1)</li>
<li>because is_after_decrease, with pos' = prev_decrease_[pos], next_increase_[pos'] == next_increase_[pos], so that append(prev_decrease_[pos], pos) is append(pos', next_increase_[pos'] - 1).</li>
</ul>
<p>Downwards inflexion: vehicle is at its max. Avoids duplicate insertions, when next_decrease_[pos] - 1 == pos:</p><ul>
<li>append(pos, pos) is append(pos, next_decrease_[pos] - 1)</li>
<li>because is_before_increase, with pos' = prev_increase_[pos], next_decrease_[pos'] == next_decrease_[pos], so that append(prev_increase_[pos], pos) is append(pos', next_decrease_[pos'] - 1).</li>
</ul>

<p class="definition">Definition at line <a class="el" href="routing__search_8cc_source.html#l02155">2155</a> of file <a class="el" href="routing__search_8cc_source.html">routing_search.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/constraint_solver/<a class="el" href="routing__search_8h_source.html">routing_search.h</a></li>
<li>ortools/constraint_solver/<a class="el" href="routing__search_8cc_source.html">routing_search.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1InsertionSequenceGenerator.html">InsertionSequenceGenerator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
