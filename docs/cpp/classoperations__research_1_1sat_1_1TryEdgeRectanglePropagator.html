<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::TryEdgeRectanglePropagator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.12</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1sat_1_1TryEdgeRectanglePropagator.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classoperations__research_1_1sat_1_1TryEdgeRectanglePropagator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::TryEdgeRectanglePropagator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Exposed for testing.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for operations_research::sat::TryEdgeRectanglePropagator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classoperations__research_1_1sat_1_1TryEdgeRectanglePropagator.png" usemap="#operations_5Fresearch::sat::TryEdgeRectanglePropagator_map" alt=""/>
  <map id="operations_5Fresearch::sat::TryEdgeRectanglePropagator_map" name="operations_5Fresearch::sat::TryEdgeRectanglePropagator_map">
<area href="classoperations__research_1_1sat_1_1PropagatorInterface.html" title="Base class for CP like propagators." alt="operations_research::sat::PropagatorInterface" shape="rect" coords="0,0,324,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a218b6f056c8911274903fb0f559e9497" id="r_a218b6f056c8911274903fb0f559e9497"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a218b6f056c8911274903fb0f559e9497">TryEdgeRectanglePropagator</a> (bool x_is_forward_after_swap, bool y_is_forward_after_swap, bool swap_x_and_y, <a class="el" href="classoperations__research_1_1sat_1_1NoOverlap2DConstraintHelper.html">NoOverlap2DConstraintHelper</a> *helper, <a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *model)</td></tr>
<tr class="separator:a218b6f056c8911274903fb0f559e9497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef8bd650a7f31d31168f935f7909955" id="r_a0ef8bd650a7f31d31168f935f7909955"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ef8bd650a7f31d31168f935f7909955">~TryEdgeRectanglePropagator</a> () override</td></tr>
<tr class="separator:a0ef8bd650a7f31d31168f935f7909955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f932ab5d991f68da55bcbf47fc6882" id="r_af3f932ab5d991f68da55bcbf47fc6882"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3f932ab5d991f68da55bcbf47fc6882">Propagate</a> () final</td></tr>
<tr class="separator:af3f932ab5d991f68da55bcbf47fc6882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4761f6651df7743da719e85354c724f4" id="r_a4761f6651df7743da719e85354c724f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4761f6651df7743da719e85354c724f4">RegisterWith</a> (<a class="el" href="classoperations__research_1_1sat_1_1GenericLiteralWatcher.html">GenericLiteralWatcher</a> *watcher)</td></tr>
<tr class="separator:a4761f6651df7743da719e85354c724f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html">operations_research::sat::PropagatorInterface</a></td></tr>
<tr class="memitem:ac4586668025c78c5bc7d0f53b6dd8053 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_ac4586668025c78c5bc7d0f53b6dd8053"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#ac4586668025c78c5bc7d0f53b6dd8053">PropagatorInterface</a> ()=default</td></tr>
<tr class="separator:ac4586668025c78c5bc7d0f53b6dd8053 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2050a6e5fb78d733582e3fe1beb7d9ed inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_a2050a6e5fb78d733582e3fe1beb7d9ed"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a2050a6e5fb78d733582e3fe1beb7d9ed">~PropagatorInterface</a> ()=default</td></tr>
<tr class="separator:a2050a6e5fb78d733582e3fe1beb7d9ed inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df009b18974352e71f74929860c2326 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_a8df009b18974352e71f74929860c2326"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a8df009b18974352e71f74929860c2326">IncrementalPropagate</a> (const std::vector&lt; int &gt; &amp;)</td></tr>
<tr class="separator:a8df009b18974352e71f74929860c2326 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa59d81a7b914b7de0e50b59dfedd8304" id="r_aa59d81a7b914b7de0e50b59dfedd8304"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa59d81a7b914b7de0e50b59dfedd8304">ExplainAndPropagate</a> (const std::vector&lt; std::pair&lt; int, std::optional&lt; IntegerValue &gt; &gt; &gt; &amp;found_propagations)</td></tr>
<tr class="separator:aa59d81a7b914b7de0e50b59dfedd8304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0d3c6b3b9672a4d27704f604596ba1" id="r_a0b0d3c6b3b9672a4d27704f604596ba1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b0d3c6b3b9672a4d27704f604596ba1">GetMinimumProblemWithPropagation</a> (int box_index, IntegerValue new_x_min)</td></tr>
<tr class="separator:a0b0d3c6b3b9672a4d27704f604596ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a18bb688c7b4291bacfdbeffaf660ab01" id="r_a18bb688c7b4291bacfdbeffaf660ab01"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structoperations__research_1_1sat_1_1Rectangle.html">Rectangle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18bb688c7b4291bacfdbeffaf660ab01">placed_boxes_</a></td></tr>
<tr class="separator:a18bb688c7b4291bacfdbeffaf660ab01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4976e108af777b42cca1d70f0b9d3244" id="r_a4976e108af777b42cca1d70f0b9d3244"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4976e108af777b42cca1d70f0b9d3244">is_in_cache_</a></td></tr>
<tr class="separator:a4976e108af777b42cca1d70f0b9d3244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd4c23b4a2481ba984c6a0a52d68c98" id="r_a6bd4c23b4a2481ba984c6a0a52d68c98"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structoperations__research_1_1sat_1_1Rectangle.html">Rectangle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6bd4c23b4a2481ba984c6a0a52d68c98">mandatory_regions_</a></td></tr>
<tr class="separator:a6bd4c23b4a2481ba984c6a0a52d68c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50e10860a1a4b5f721b56607e6de715" id="r_ad50e10860a1a4b5f721b56607e6de715"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structoperations__research_1_1sat_1_1RectangleInRange.html">RectangleInRange</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad50e10860a1a4b5f721b56607e6de715">active_box_ranges_</a></td></tr>
<tr class="separator:ad50e10860a1a4b5f721b56607e6de715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c9a95ca24731dea507a16360508271" id="r_af4c9a95ca24731dea507a16360508271"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4c9a95ca24731dea507a16360508271">is_active_</a></td></tr>
<tr class="separator:af4c9a95ca24731dea507a16360508271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e57c72673b18c71d314d1a0f14045c" id="r_ae3e57c72673b18c71d314d1a0f14045c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classoperations__research_1_1Bitset64.html">Bitset64</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3e57c72673b18c71d314d1a0f14045c">has_mandatory_region_</a></td></tr>
<tr class="separator:ae3e57c72673b18c71d314d1a0f14045c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785b7323aba78c63f1e89a8583230f8a" id="r_a785b7323aba78c63f1e89a8583230f8a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a785b7323aba78c63f1e89a8583230f8a">changed_item_</a></td></tr>
<tr class="separator:a785b7323aba78c63f1e89a8583230f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688eb1bd8f15e22a8f00ab5011f6f844" id="r_a688eb1bd8f15e22a8f00ab5011f6f844"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a688eb1bd8f15e22a8f00ab5011f6f844">changed_mandatory_</a></td></tr>
<tr class="separator:a688eb1bd8f15e22a8f00ab5011f6f844"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Exposed for testing. </p>

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00044">44</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a218b6f056c8911274903fb0f559e9497" name="a218b6f056c8911274903fb0f559e9497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218b6f056c8911274903fb0f559e9497">&#9670;&#160;</a></span>TryEdgeRectanglePropagator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::TryEdgeRectanglePropagator::TryEdgeRectanglePropagator </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>x_is_forward_after_swap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>y_is_forward_after_swap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>swap_x_and_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1NoOverlap2DConstraintHelper.html">NoOverlap2DConstraintHelper</a> *</td>          <td class="paramname"><span class="paramname"><em>helper</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *</td>          <td class="paramname"><span class="paramname"><em>model</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00046">46</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a0ef8bd650a7f31d31168f935f7909955" name="a0ef8bd650a7f31d31168f935f7909955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef8bd650a7f31d31168f935f7909955">&#9670;&#160;</a></span>~TryEdgeRectanglePropagator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::TryEdgeRectanglePropagator::~TryEdgeRectanglePropagator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8cc_source.html#l00047">47</a> of file <a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa59d81a7b914b7de0e50b59dfedd8304" name="aa59d81a7b914b7de0e50b59dfedd8304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59d81a7b914b7de0e50b59dfedd8304">&#9670;&#160;</a></span>ExplainAndPropagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operations_research::sat::TryEdgeRectanglePropagator::ExplainAndPropagate </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, std::optional&lt; IntegerValue &gt; &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>found_propagations</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Important: we also add to the reason the actual box we are changing the x_min. This is important, since we don't check if there are any feasible placement before its current x_min, so it needs to be part of the reason.</p>
<p>We don't need to add to the reason the x_max for the box we are pushing the x_min, except if we found a conflict.</p>

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8cc_source.html#l00358">358</a> of file <a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a>.</p>

</div>
</div>
<a id="a0b0d3c6b3b9672a4d27704f604596ba1" name="a0b0d3c6b3b9672a4d27704f604596ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0d3c6b3b9672a4d27704f604596ba1">&#9670;&#160;</a></span>GetMinimumProblemWithPropagation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; operations_research::sat::TryEdgeRectanglePropagator::GetMinimumProblemWithPropagation </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>box_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerValue</td>          <td class="paramname"><span class="paramname"><em>new_x_min</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function assumes that a propagation is found and the box with index <code>box_index</code> cannot be placed to the left of new_x_min. It returns a list of indices of boxes that defines a subproblem where the propagation is still valid, including <code>box_index</code> itself. </p>
<p>We know that we can't place the box at x &lt; new_x_min (which can be start_max for a conflict). The explanation for the propagation is complex: we tried a lot of positions, and each one overlaps with the mandatory part of at least one box. We want to find the smallest set of "conflicting
boxes" that would still forbid every possible placement. To do that, we build a vector with, for each placement position, the list boxes that conflict when placing the box at that position. Then we solve (approximately) a set cover problem to find the smallest set of boxes that will still makes all positions conflicting.</p>
<p>We need to rerun the main propagator loop logic, but this time keeping track of which boxes conflicted for each position.</p>
<p>potential_y_positions is sorted, so we can stop here.</p>
<p>Now gather the data per box to make easier to use the set cover solver API. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo001107">Todo</a></b></dt><dd>(user): skip the boxes that are fixed at level zero. They do not contribute to the size of the explanation (so we shouldn't minimize their number) and make the SetCover problem harder to solve. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001108">Todo</a></b></dt><dd>(user): We now know for each box the list of placements that it contributes to the conflict. We could use this information to relax the bounds of this box on the explanation of the propagation. For example, for a box that always overlaps at least five units to the right when it does, we could call AddStartMinReason(x_min - 4) instead of AddStartMinReason(x_min). </dd></dl>

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8cc_source.html#l00252">252</a> of file <a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a>.</p>

</div>
</div>
<a id="af3f932ab5d991f68da55bcbf47fc6882" name="af3f932ab5d991f68da55bcbf47fc6882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f932ab5d991f68da55bcbf47fc6882">&#9670;&#160;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operations_research::sat::TryEdgeRectanglePropagator::Propagate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel final">final</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will be called after one or more literals that are watched by this propagator changed. It will also always be called on the first propagation cycle after registration. </p>
<p>Our algo is quadratic, so we don't want to run it on really large problems.</p>
<p>If a mandatory region is changed, we need to replace any cached box that now became overlapping with it.</p>
<p>potential_y_positions is sorted, so we can stop here.</p>
<p>We could not find any placement of the box at its current lower bound! Thus, we are sure we have something to propagate. Let's find the new lower bound (or a conflict). Note that the code below is much less performance critical than the code above, since it only triggers on propagations.</p>
<p>potential_x_positions is sorted, so the first we found is the lowest one.</p>

<p>Implements <a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a92be510851b26838f85adeec4a92a1b1">operations_research::sat::PropagatorInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8cc_source.html#l00134">134</a> of file <a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a>.</p>

</div>
</div>
<a id="a4761f6651df7743da719e85354c724f4" name="a4761f6651df7743da719e85354c724f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4761f6651df7743da719e85354c724f4">&#9670;&#160;</a></span>RegisterWith()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::sat::TryEdgeRectanglePropagator::RegisterWith </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1GenericLiteralWatcher.html">GenericLiteralWatcher</a> *</td>          <td class="paramname"><span class="paramname"><em>watcher</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8cc_source.html#l00040">40</a> of file <a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad50e10860a1a4b5f721b56607e6de715" name="ad50e10860a1a4b5f721b56607e6de715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad50e10860a1a4b5f721b56607e6de715">&#9670;&#160;</a></span>active_box_ranges_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structoperations__research_1_1sat_1_1RectangleInRange.html">RectangleInRange</a>&gt; operations_research::sat::TryEdgeRectanglePropagator::active_box_ranges_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00072">72</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a785b7323aba78c63f1e89a8583230f8a" name="a785b7323aba78c63f1e89a8583230f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785b7323aba78c63f1e89a8583230f8a">&#9670;&#160;</a></span>changed_item_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; operations_research::sat::TryEdgeRectanglePropagator::changed_item_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00076">76</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a688eb1bd8f15e22a8f00ab5011f6f844" name="a688eb1bd8f15e22a8f00ab5011f6f844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a688eb1bd8f15e22a8f00ab5011f6f844">&#9670;&#160;</a></span>changed_mandatory_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; operations_research::sat::TryEdgeRectanglePropagator::changed_mandatory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00077">77</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="ae3e57c72673b18c71d314d1a0f14045c" name="ae3e57c72673b18c71d314d1a0f14045c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e57c72673b18c71d314d1a0f14045c">&#9670;&#160;</a></span>has_mandatory_region_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classoperations__research_1_1Bitset64.html">Bitset64</a>&lt;int&gt; operations_research::sat::TryEdgeRectanglePropagator::has_mandatory_region_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00074">74</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="af4c9a95ca24731dea507a16360508271" name="af4c9a95ca24731dea507a16360508271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c9a95ca24731dea507a16360508271">&#9670;&#160;</a></span>is_active_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;bool&gt; operations_research::sat::TryEdgeRectanglePropagator::is_active_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00073">73</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a4976e108af777b42cca1d70f0b9d3244" name="a4976e108af777b42cca1d70f0b9d3244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4976e108af777b42cca1d70f0b9d3244">&#9670;&#160;</a></span>is_in_cache_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;bool&gt; operations_research::sat::TryEdgeRectanglePropagator::is_in_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00069">69</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a6bd4c23b4a2481ba984c6a0a52d68c98" name="a6bd4c23b4a2481ba984c6a0a52d68c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd4c23b4a2481ba984c6a0a52d68c98">&#9670;&#160;</a></span>mandatory_regions_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structoperations__research_1_1sat_1_1Rectangle.html">Rectangle</a>&gt; operations_research::sat::TryEdgeRectanglePropagator::mandatory_regions_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00071">71</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<a id="a18bb688c7b4291bacfdbeffaf660ab01" name="a18bb688c7b4291bacfdbeffaf660ab01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bb688c7b4291bacfdbeffaf660ab01">&#9670;&#160;</a></span>placed_boxes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structoperations__research_1_1sat_1_1Rectangle.html">Rectangle</a>&gt; operations_research::sat::TryEdgeRectanglePropagator::placed_boxes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>placed_boxes_ is a list that is only meaningful for indices for which is_in_cache_[box_index] is true. After applying this condition, placed_boxes_ contains a list of boxes placed at their current x_min and that does not overlap with the mandatory region of any other box in placed_boxes_. In other words, there is no point on looking for any propagation for this heuristic between boxes that are already in placed_boxes_. </p>

<p class="definition">Definition at line <a class="el" href="2d__try__edge__propagator_8h_source.html#l00068">68</a> of file <a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="2d__try__edge__propagator_8h_source.html">2d_try_edge_propagator.h</a></li>
<li>ortools/sat/<a class="el" href="2d__try__edge__propagator_8cc_source.html">2d_try_edge_propagator.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1TryEdgeRectanglePropagator.html">TryEdgeRectanglePropagator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
