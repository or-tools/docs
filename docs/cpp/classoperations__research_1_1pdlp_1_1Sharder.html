<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::pdlp::Sharder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.11</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1pdlp_1_1Sharder.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1pdlp_1_1Sharder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::pdlp::Sharder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sharder_8h_source.html">sharder.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5c3e22fc350e1bde399c1244c0e241b9" id="r_a5c3e22fc350e1bde399c1244c0e241b9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c3e22fc350e1bde399c1244c0e241b9">ConstSparseColumnBlock</a></td></tr>
<tr class="separator:a5c3e22fc350e1bde399c1244c0e241b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ecccaa87bd167aa3425ae8591a1c17c" id="r_a3ecccaa87bd167aa3425ae8591a1c17c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ecccaa87bd167aa3425ae8591a1c17c">SparseColumnBlock</a></td></tr>
<tr class="separator:a3ecccaa87bd167aa3425ae8591a1c17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab58d69d28ee91608a75ee7b63b9d58d4" id="r_ab58d69d28ee91608a75ee7b63b9d58d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab58d69d28ee91608a75ee7b63b9d58d4">Sharder</a> (int64_t num_elements, int num_shards, <a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *thread_pool, const std::function&lt; int64_t(int64_t)&gt; &amp;element_mass)</td></tr>
<tr class="separator:ab58d69d28ee91608a75ee7b63b9d58d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7d20effa26acf46b9d3a481fb937de" id="r_a7d7d20effa26acf46b9d3a481fb937de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d7d20effa26acf46b9d3a481fb937de">Sharder</a> (int64_t num_elements, int num_shards, <a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *thread_pool)</td></tr>
<tr class="separator:a7d7d20effa26acf46b9d3a481fb937de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb933a522ec1a523191bb927193edcd" id="r_a0eb933a522ec1a523191bb927193edcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0eb933a522ec1a523191bb927193edcd">Sharder</a> (const Eigen::SparseMatrix&lt; double, Eigen::ColMajor, int64_t &gt; &amp;matrix, int num_shards, <a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *thread_pool)</td></tr>
<tr class="separator:a0eb933a522ec1a523191bb927193edcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4139596c31ca1a64abcfcf179ba18af" id="r_af4139596c31ca1a64abcfcf179ba18af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4139596c31ca1a64abcfcf179ba18af">Sharder</a> (const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;other_sharder, int64_t num_elements)</td></tr>
<tr class="separator:af4139596c31ca1a64abcfcf179ba18af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d49d0e2f98b93e535f1291b678e31da" id="r_a0d49d0e2f98b93e535f1291b678e31da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d49d0e2f98b93e535f1291b678e31da">Sharder</a> (const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;other)=delete</td></tr>
<tr class="separator:a0d49d0e2f98b93e535f1291b678e31da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fb977fb98bb66af0f6a767221e68a4" id="r_a21fb977fb98bb66af0f6a767221e68a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21fb977fb98bb66af0f6a767221e68a4">operator=</a> (const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;other)=delete</td></tr>
<tr class="separator:a21fb977fb98bb66af0f6a767221e68a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c5e4ff1767f4b59965e452b1347a4d" id="r_a63c5e4ff1767f4b59965e452b1347a4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63c5e4ff1767f4b59965e452b1347a4d">Sharder</a> (<a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&amp;other)=default</td></tr>
<tr class="separator:a63c5e4ff1767f4b59965e452b1347a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ea75292b39d8fddbb2e9ccb1474605" id="r_a10ea75292b39d8fddbb2e9ccb1474605"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10ea75292b39d8fddbb2e9ccb1474605">operator=</a> (<a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&amp;other)=default</td></tr>
<tr class="separator:a10ea75292b39d8fddbb2e9ccb1474605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa8c0ab35c7237fc153a07b8522dd02" id="r_aeaa8c0ab35c7237fc153a07b8522dd02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaa8c0ab35c7237fc153a07b8522dd02">NumShards</a> () const</td></tr>
<tr class="separator:aeaa8c0ab35c7237fc153a07b8522dd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4644eda2709c87e0e6cfe89f66dadac" id="r_ad4644eda2709c87e0e6cfe89f66dadac"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4644eda2709c87e0e6cfe89f66dadac">NumElements</a> () const</td></tr>
<tr class="memdesc:ad4644eda2709c87e0e6cfe89f66dadac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of elements that are split into shards.  <br /></td></tr>
<tr class="separator:ad4644eda2709c87e0e6cfe89f66dadac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d55539464446593c6d8ef8a752ee6d" id="r_a22d55539464446593c6d8ef8a752ee6d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22d55539464446593c6d8ef8a752ee6d">ShardSize</a> (int shard) const</td></tr>
<tr class="separator:a22d55539464446593c6d8ef8a752ee6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5aed58562d36958e8f7220cc4894af4" id="r_ae5aed58562d36958e8f7220cc4894af4"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5aed58562d36958e8f7220cc4894af4">ShardStart</a> (int shard) const</td></tr>
<tr class="separator:ae5aed58562d36958e8f7220cc4894af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf13a0bf1773f14fbaec0e5dd5158be" id="r_aabf13a0bf1773f14fbaec0e5dd5158be"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabf13a0bf1773f14fbaec0e5dd5158be">ShardMass</a> (int shard) const</td></tr>
<tr class="separator:aabf13a0bf1773f14fbaec0e5dd5158be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2854364a53a1299044345f118d19291" id="r_ad2854364a53a1299044345f118d19291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2854364a53a1299044345f118d19291">ParallelForEachShard</a> (const std::function&lt; void(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;func) const</td></tr>
<tr class="memdesc:ad2854364a53a1299044345f118d19291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs <code>func</code> on each of the shards.  <br /></td></tr>
<tr class="separator:ad2854364a53a1299044345f118d19291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b1daa081901e4567a90db47939c2ea" id="r_a19b1daa081901e4567a90db47939c2ea"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19b1daa081901e4567a90db47939c2ea">ParallelSumOverShards</a> (const std::function&lt; double(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;func) const</td></tr>
<tr class="memdesc:a19b1daa081901e4567a90db47939c2ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs <code>func</code> on each of the shards and sums the results.  <br /></td></tr>
<tr class="separator:a19b1daa081901e4567a90db47939c2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c2862b63176221dddb8ba75b1c810d" id="r_a14c2862b63176221dddb8ba75b1c810d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14c2862b63176221dddb8ba75b1c810d">ParallelTrueForAllShards</a> (const std::function&lt; bool(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;func) const</td></tr>
<tr class="separator:a14c2862b63176221dddb8ba75b1c810d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3bac6eec83f0c54c1575d1c4a745bb" id="r_a0d3bac6eec83f0c54c1575d1c4a745bb"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; int64_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d3bac6eec83f0c54c1575d1c4a745bb">ShardStartsForTesting</a> () const</td></tr>
<tr class="memdesc:a0d3bac6eec83f0c54c1575d1c4a745bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public for testing only.  <br /></td></tr>
<tr class="separator:a0d3bac6eec83f0c54c1575d1c4a745bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents a way to shard elements for multi-threading. The elements may be entries of a vector or the columns of a (column-major) matrix. The shards are selected to have roughly the same mass, where the mass of an entry depends on the constructor used. See the free functions below and in the .cc file for example usage. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00034">34</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a5c3e22fc350e1bde399c1244c0e241b9" name="a5c3e22fc350e1bde399c1244c0e241b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c3e22fc350e1bde399c1244c0e241b9">&#9670;&#160;</a></span>ConstSparseColumnBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a5c3e22fc350e1bde399c1244c0e241b9">operations_research::pdlp::Sharder::ConstSparseColumnBlock</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"> ::Eigen::Block&lt;</div>
<div class="line">      <span class="keyword">const</span> Eigen::SparseMatrix&lt;double, Eigen::ColMajor, int64_t&gt;,</div>
<div class="line">      Eigen::Dynamic, Eigen::Dynamic,</div>
<div class="line">      <span class="keyword">true</span>&gt;</div>
</div><!-- fragment --><p>These are public aliases for convenience. They will change only if there are breaking changes in <a class="el" href="namespaceEigen.html">Eigen</a>. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00038">38</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="a3ecccaa87bd167aa3425ae8591a1c17c" name="a3ecccaa87bd167aa3425ae8591a1c17c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ecccaa87bd167aa3425ae8591a1c17c">&#9670;&#160;</a></span>SparseColumnBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a3ecccaa87bd167aa3425ae8591a1c17c">operations_research::pdlp::Sharder::SparseColumnBlock</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"> </div>
<div class="line">      ::Eigen::Block&lt;Eigen::SparseMatrix&lt;double, Eigen::ColMajor, int64_t&gt;,</div>
<div class="line">                     Eigen::Dynamic, Eigen::Dynamic,</div>
<div class="line">                     <span class="keyword">true</span>&gt;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00042">42</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab58d69d28ee91608a75ee7b63b9d58d4" name="ab58d69d28ee91608a75ee7b63b9d58d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab58d69d28ee91608a75ee7b63b9d58d4">&#9670;&#160;</a></span>Sharder() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>num_elements</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_shards</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *</td>          <td class="paramname"><span class="paramname"><em>thread_pool</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; int64_t(int64_t)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>element_mass</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> for problems with <code>num_elements</code> elements and mass of each element given by <code>element_mass</code>. Each shard will have roughly the same mass. The number of shards in the resulting <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> will be approximately <code>num_shards</code> but may differ. The <code>thread_pool</code> will be used for parallel operations executed by e.g. <code><a class="el" href="#ad2854364a53a1299044345f118d19291" title="Runs func on each of the shards.">ParallelForEachShard()</a></code>. The <code>thread_pool</code> may be nullptr, which means work will be executed in the same thread. If <code>thread_pool</code> is not nullptr, the underlying object is not owned and must outlive the <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code>. </p>
<p><code>elem</code> starts a new shard.</p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00036">36</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="a7d7d20effa26acf46b9d3a481fb937de" name="a7d7d20effa26acf46b9d3a481fb937de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7d20effa26acf46b9d3a481fb937de">&#9670;&#160;</a></span>Sharder() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>num_elements</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_shards</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *</td>          <td class="paramname"><span class="paramname"><em>thread_pool</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> for problems with <code>num_elements</code> elements and unit mass. This constructor exploits having all element mass equal to 1 to take time proportional to <code>num_shards</code> instead of <code>num_elements</code>. Also see the comments above the first constructor. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00072">72</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="a0eb933a522ec1a523191bb927193edcd" name="a0eb933a522ec1a523191bb927193edcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb933a522ec1a523191bb927193edcd">&#9670;&#160;</a></span>Sharder() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype">const Eigen::SparseMatrix&lt; double, Eigen::ColMajor, int64_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_shards</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1ThreadPool.html">ThreadPool</a> *</td>          <td class="paramname"><span class="paramname"><em>thread_pool</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> for processing <code>matrix</code>. The elements correspond to columns of <code>matrix</code> and have mass linear in the number of non-zeros. Also see the comments above the first constructor. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00161">161</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="af4139596c31ca1a64abcfcf179ba18af" name="af4139596c31ca1a64abcfcf179ba18af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4139596c31ca1a64abcfcf179ba18af">&#9670;&#160;</a></span>Sharder() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other_sharder</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>num_elements</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a <code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> with the same thread pool as <code>other_sharder</code>, for problems with <code>num_elements</code> elements and unit mass. The number of shards will be approximately the same as that of <code>other_sharder</code>. Also see the comments on the first constructor.</p>
<p>The <code>std::max()</code> protects against <code>other_sharder.NumShards() == 0</code>, which will happen if <code>other_sharder</code> had <code>num_elements == 0</code>. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00103">103</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="a0d49d0e2f98b93e535f1291b678e31da" name="a0d49d0e2f98b93e535f1291b678e31da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d49d0e2f98b93e535f1291b678e31da">&#9670;&#160;</a></span>Sharder() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><code><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></code> may be moved, but not copied. Moved-from objects may be in an invalid state. The only methods that may be called on a moved-from object are the destructor or <code>operator=</code>. </p>

</div>
</div>
<a id="a63c5e4ff1767f4b59965e452b1347a4d" name="a63c5e4ff1767f4b59965e452b1347a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c5e4ff1767f4b59965e452b1347a4d">&#9670;&#160;</a></span>Sharder() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::pdlp::Sharder::Sharder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad4644eda2709c87e0e6cfe89f66dadac" name="ad4644eda2709c87e0e6cfe89f66dadac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4644eda2709c87e0e6cfe89f66dadac">&#9670;&#160;</a></span>NumElements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t operations_research::pdlp::Sharder::NumElements </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of elements that are split into shards. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00184">184</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="aeaa8c0ab35c7237fc153a07b8522dd02" name="aeaa8c0ab35c7237fc153a07b8522dd02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa8c0ab35c7237fc153a07b8522dd02">&#9670;&#160;</a></span>NumShards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::pdlp::Sharder::NumShards </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00181">181</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="a21fb977fb98bb66af0f6a767221e68a4" name="a21fb977fb98bb66af0f6a767221e68a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fb977fb98bb66af0f6a767221e68a4">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp; operations_research::pdlp::Sharder::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a10ea75292b39d8fddbb2e9ccb1474605" name="a10ea75292b39d8fddbb2e9ccb1474605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ea75292b39d8fddbb2e9ccb1474605">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp; operations_research::pdlp::Sharder::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2854364a53a1299044345f118d19291" name="ad2854364a53a1299044345f118d19291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2854364a53a1299044345f118d19291">&#9670;&#160;</a></span>ParallelForEachShard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::pdlp::Sharder::ParallelForEachShard </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs <code>func</code> on each of the shards. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00109">109</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="a19b1daa081901e4567a90db47939c2ea" name="a19b1daa081901e4567a90db47939c2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19b1daa081901e4567a90db47939c2ea">&#9670;&#160;</a></span>ParallelSumOverShards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double operations_research::pdlp::Sharder::ParallelSumOverShards </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; double(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs <code>func</code> on each of the shards and sums the results. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00143">143</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="a14c2862b63176221dddb8ba75b1c810d" name="a14c2862b63176221dddb8ba75b1c810d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c2862b63176221dddb8ba75b1c810d">&#9670;&#160;</a></span>ParallelTrueForAllShards()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool operations_research::pdlp::Sharder::ParallelTrueForAllShards </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classoperations__research_1_1pdlp_1_1Sharder_1_1Shard.html">Shard</a> &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs <code>func</code> on each of the shards. Returns true iff all shards returned true. </p>
<p>Recall <code>std::vector&lt;bool&gt;</code> is not thread-safe.</p>

<p class="definition">Definition at line <a class="el" href="sharder_8cc_source.html#l00152">152</a> of file <a class="el" href="sharder_8cc_source.html">sharder.cc</a>.</p>

</div>
</div>
<a id="aabf13a0bf1773f14fbaec0e5dd5158be" name="aabf13a0bf1773f14fbaec0e5dd5158be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf13a0bf1773f14fbaec0e5dd5158be">&#9670;&#160;</a></span>ShardMass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t operations_research::pdlp::Sharder::ShardMass </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>shard</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00198">198</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="a22d55539464446593c6d8ef8a752ee6d" name="a22d55539464446593c6d8ef8a752ee6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d55539464446593c6d8ef8a752ee6d">&#9670;&#160;</a></span>ShardSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t operations_research::pdlp::Sharder::ShardSize </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>shard</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00186">186</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="ae5aed58562d36958e8f7220cc4894af4" name="ae5aed58562d36958e8f7220cc4894af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5aed58562d36958e8f7220cc4894af4">&#9670;&#160;</a></span>ShardStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t operations_research::pdlp::Sharder::ShardStart </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>shard</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00192">192</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<a id="a0d3bac6eec83f0c54c1575d1c4a745bb" name="a0d3bac6eec83f0c54c1575d1c4a745bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3bac6eec83f0c54c1575d1c4a745bb">&#9670;&#160;</a></span>ShardStartsForTesting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; int64_t &gt; &amp; operations_research::pdlp::Sharder::ShardStartsForTesting </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Public for testing only. </p>

<p class="definition">Definition at line <a class="el" href="sharder_8h_source.html#l00218">218</a> of file <a class="el" href="sharder_8h_source.html">sharder.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/pdlp/<a class="el" href="sharder_8h_source.html">sharder.h</a></li>
<li>ortools/pdlp/<a class="el" href="sharder_8cc_source.html">sharder.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1pdlp.html">pdlp</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1pdlp_1_1Sharder.html">Sharder</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
