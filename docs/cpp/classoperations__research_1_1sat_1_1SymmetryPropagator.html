<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::SymmetryPropagator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.6</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classoperations__research_1_1sat_1_1SymmetryPropagator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1sat_1_1SymmetryPropagator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::SymmetryPropagator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="symmetry_8h_source.html">symmetry.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for operations_research::sat::SymmetryPropagator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classoperations__research_1_1sat_1_1SymmetryPropagator.png" usemap="#operations_5Fresearch::sat::SymmetryPropagator_map" alt=""/>
  <map id="operations_5Fresearch::sat::SymmetryPropagator_map" name="operations_5Fresearch::sat::SymmetryPropagator_map">
<area href="classoperations__research_1_1sat_1_1SatPropagator.html" title="Base class for all the SAT constraints." alt="operations_research::sat::SatPropagator" shape="rect" coords="0,0,275,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af9321e40b1d09d88b880370b03b49ce5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#af9321e40b1d09d88b880370b03b49ce5">SymmetryPropagator</a> ()</td></tr>
<tr class="separator:af9321e40b1d09d88b880370b03b49ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d926f8226674c4269ab4ef2cf89e44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#aa5d926f8226674c4269ab4ef2cf89e44">~SymmetryPropagator</a> () override</td></tr>
<tr class="separator:aa5d926f8226674c4269ab4ef2cf89e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61cde651dc6dca2f88fdc7d67b900f13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a61cde651dc6dca2f88fdc7d67b900f13">Propagate</a> (<a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> *trail) final</td></tr>
<tr class="separator:a61cde651dc6dca2f88fdc7d67b900f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2d4a145f2a351c25423b84b5eb047d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a5f2d4a145f2a351c25423b84b5eb047d">Untrail</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index) final</td></tr>
<tr class="separator:a5f2d4a145f2a351c25423b84b5eb047d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e72df87e4d6d8fe844dcfae8b597a14"><td class="memItemLeft" align="right" valign="top">absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a5e72df87e4d6d8fe844dcfae8b597a14">Reason</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index) const final</td></tr>
<tr class="separator:a5e72df87e4d6d8fe844dcfae8b597a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020a35d3244af33a45a416f037529459"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a020a35d3244af33a45a416f037529459">AddSymmetry</a> (std::unique_ptr&lt; <a class="el" href="classoperations__research_1_1SparsePermutation.html">SparsePermutation</a> &gt; permutation)</td></tr>
<tr class="separator:a020a35d3244af33a45a416f037529459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44aa3da91804d4b67fc0e8a3efb4816f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a44aa3da91804d4b67fc0e8a3efb4816f">num_permutations</a> () const</td></tr>
<tr class="separator:a44aa3da91804d4b67fc0e8a3efb4816f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2366f4ee59be57b06db35a90652ceb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#aec2366f4ee59be57b06db35a90652ceb">Permute</a> (int <a class="el" href="local__search_8cc.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt; <a class="el" href="parser_8yy_8cc.html#a5a634cf4429798b1c921a81de8250051">input</a>, std::vector&lt; <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt; *output) const</td></tr>
<tr class="separator:aec2366f4ee59be57b06db35a90652ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classoperations__research_1_1sat_1_1SatPropagator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html">operations_research::sat::SatPropagator</a></td></tr>
<tr class="memitem:a338bfb8cc78f5ac5dd1f69d87a4f57f3 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a338bfb8cc78f5ac5dd1f69d87a4f57f3">SatPropagator</a> (const std::string &amp;<a class="el" href="default__search_8cc.html#ac673bc430bdc3fdaa09f7becf98ef267">name</a>)</td></tr>
<tr class="separator:a338bfb8cc78f5ac5dd1f69d87a4f57f3 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c0d293b9e2530dcd849bbbece3b5ab inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#ae1c0d293b9e2530dcd849bbbece3b5ab">~SatPropagator</a> ()</td></tr>
<tr class="separator:ae1c0d293b9e2530dcd849bbbece3b5ab inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5876a992300dcbcf936d11d9b9dd0512 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a5876a992300dcbcf936d11d9b9dd0512">SetPropagatorId</a> (int id)</td></tr>
<tr class="memdesc:a5876a992300dcbcf936d11d9b9dd0512 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets/Gets this propagator unique id.  <br /></td></tr>
<tr class="separator:a5876a992300dcbcf936d11d9b9dd0512 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5afb5d4be1ac4f9c4f0758fb8dc40d inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a2e5afb5d4be1ac4f9c4f0758fb8dc40d">PropagatorId</a> () const</td></tr>
<tr class="separator:a2e5afb5d4be1ac4f9c4f0758fb8dc40d inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8417cfbc49d425aac62ce622b058b018 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a8417cfbc49d425aac62ce622b058b018">Propagate</a> (<a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> *trail)=0</td></tr>
<tr class="separator:a8417cfbc49d425aac62ce622b058b018 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68acada7af835c9c6870ceb876dc2d9c inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a68acada7af835c9c6870ceb876dc2d9c">Untrail</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index)</td></tr>
<tr class="separator:a68acada7af835c9c6870ceb876dc2d9c inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfb6fb80bf098bfca298973026b7398 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">virtual absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#aebfb6fb80bf098bfca298973026b7398">Reason</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail, int trail_index) const</td></tr>
<tr class="separator:aebfb6fb80bf098bfca298973026b7398 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bde4f8c3d7c6326050ac164391bf2a7 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a2bde4f8c3d7c6326050ac164391bf2a7">PropagatePreconditionsAreSatisfied</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail) const</td></tr>
<tr class="separator:a2bde4f8c3d7c6326050ac164391bf2a7 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c40cad4e160b493cb16c9f4373275e inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#ad1c40cad4e160b493cb16c9f4373275e">PropagationIsDone</a> (const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;trail) const</td></tr>
<tr class="memdesc:ad1c40cad4e160b493cb16c9f4373275e inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true iff all the trail was inspected by this propagator.  <br /></td></tr>
<tr class="separator:ad1c40cad4e160b493cb16c9f4373275e inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab639102372f03758b18523b613ae69e1 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#ab639102372f03758b18523b613ae69e1">IsEmpty</a> () const</td></tr>
<tr class="separator:ab639102372f03758b18523b613ae69e1 inherit pub_methods_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classoperations__research_1_1sat_1_1SatPropagator')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html">operations_research::sat::SatPropagator</a></td></tr>
<tr class="memitem:a5edc374f55007ef72a87fd7516bad764 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a5edc374f55007ef72a87fd7516bad764">name_</a></td></tr>
<tr class="separator:a5edc374f55007ef72a87fd7516bad764 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6484a3ad51a1f74b403fc21c47055601 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a6484a3ad51a1f74b403fc21c47055601">propagator_id_</a></td></tr>
<tr class="separator:a6484a3ad51a1f74b403fc21c47055601 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5714ef513aadb9a616a215de533b9eb4 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a5714ef513aadb9a616a215de533b9eb4">propagation_trail_index_</a></td></tr>
<tr class="separator:a5714ef513aadb9a616a215de533b9eb4 inherit pro_attribs_classoperations__research_1_1sat_1_1SatPropagator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements more or less the strategy described in the paper: Devriendt J., Bogaerts B., De Cat B., Denecker M., Mears C. "Symmetry
propagation: Improved Dynamic Symmetry Breaking in SAT", 2012, IEEE 24th International Conference on Tools with Artificial Intelligence.</p>
<p>Basically, each time a literal is propagated, this class tries to detect if another literal could also be propagated by symmetry. Note that this uses a heuristic in order to be efficient and that it is not exhaustive in the sense that it doesn't detect all possible propagations.</p>
<p>Algorithm details:</p>
<p>Given the current solver trail (i.e. the assigned literals and their assignment order) the idea is to compute (as efficiently as possible) for each permutation added to this class what is called the first (under the trail assignment order) non-symmetric literal. A literal 'l' is said to be non-symmetric under a given assignment and for a given permutation 'p' if 'l' is assigned to true but not 'p(l)'.</p>
<p>If a first non-symmetric literal 'l' for a permutation 'p' is not a decision, then:</p><ul>
<li>Because it is not a decision, 'l' has been implied by a reason formed by literals assigned to true at lower trail indices.</li>
<li>Because this is the first non-symmetric literal for 'p', the permuted reason only contains literal that are also assigned to true.</li>
<li>Because of this, 'p(l)' is also implied by the current assignment. Of course, this assume that p is a symmetry of the full problem. <dl class="section note"><dt>Note</dt><dd>if it is already assigned to false, then we have a conflict.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002054">Todo:</a></b></dt><dd><p class="startdd">(user): Implement the optimizations mentioned in the paper? </p>
<p class="enddd">(user): Instrument and see if the code can be optimized. </p>
</dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="symmetry_8h_source.html#l00061">61</a> of file <a class="el" href="symmetry_8h_source.html">symmetry.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af9321e40b1d09d88b880370b03b49ce5" name="af9321e40b1d09d88b880370b03b49ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9321e40b1d09d88b880370b03b49ce5">&#9670;&#160;</a></span>SymmetryPropagator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::SymmetryPropagator::SymmetryPropagator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00030">30</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<a id="aa5d926f8226674c4269ab4ef2cf89e44" name="aa5d926f8226674c4269ab4ef2cf89e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5d926f8226674c4269ab4ef2cf89e44">&#9670;&#160;</a></span>~SymmetryPropagator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::SymmetryPropagator::~SymmetryPropagator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00036">36</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a020a35d3244af33a45a416f037529459" name="a020a35d3244af33a45a416f037529459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020a35d3244af33a45a416f037529459">&#9670;&#160;</a></span>AddSymmetry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SymmetryPropagator::AddSymmetry </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classoperations__research_1_1SparsePermutation.html">SparsePermutation</a> &gt;&#160;</td>
          <td class="paramname"><em>permutation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a new permutation to this symmetry propagator. The ownership is transferred. This must be an integer permutation such that:</p><ul>
<li>Its domain is [0, 2 * num_variables) and corresponds to the index representation of the literals over num_variables variables.</li>
<li>It must be compatible with the negation, for any literal l; not(p(l)) must be the same as p(not(l)), where p(x) represents the image of x by the permutation.</li>
</ul>
<p>Remark: Any permutation which is a symmetry of the main SAT problem can be added here. However, since the number of permutations is usually not manageable, a good alternative is to only add the generators of the permutation group. It is also important to add permutations with a support as small as possible.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002055">Todo:</a></b></dt><dd>(user): Currently this can only be called before PropagateNext() is called (DCHECKed). Not sure if we need more incrementality though. </dd></dl>

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00044">44</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<a id="a44aa3da91804d4b67fc0e8a3efb4816f" name="a44aa3da91804d4b67fc0e8a3efb4816f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44aa3da91804d4b67fc0e8a3efb4816f">&#9670;&#160;</a></span>num_permutations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::sat::SymmetryPropagator::num_permutations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="symmetry_8h_source.html#l00088">88</a> of file <a class="el" href="symmetry_8h_source.html">symmetry.h</a>.</p>

</div>
</div>
<a id="aec2366f4ee59be57b06db35a90652ceb" name="aec2366f4ee59be57b06db35a90652ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2366f4ee59be57b06db35a90652ceb">&#9670;&#160;</a></span>Permute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SymmetryPropagator::Permute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt; *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Visible for testing.</p>
<p>Permutes a list of literals from input into output using the permutation with given index. This uses tmp_literal_mapping_ and has a complexity in O(permutation_support + input_size). </p>
<p>Initialize tmp_literal_mapping_ (resize it if needed).</p>
<p>Permute the input into the output.</p>
<p>Clean up.</p>

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00200">200</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<a id="a61cde651dc6dca2f88fdc7d67b900f13" name="a61cde651dc6dca2f88fdc7d67b900f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61cde651dc6dca2f88fdc7d67b900f13">&#9670;&#160;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operations_research::sat::SymmetryPropagator::Propagate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> *&#160;</td>
          <td class="paramname"><em>trail</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Inspects the trail from propagation_trail_index_ until at least one literal is propagated. Returns false iff a conflict is detected (in which case trail-&gt;SetFailingClause() must be called).</p>
<p>This must update propagation_trail_index_ so that all the literals before it have been propagated. In particular, if nothing was propagated, then <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#ad1c40cad4e160b493cb16c9f4373275e" title="Returns true iff all the trail was inspected by this propagator.">PropagationIsDone()</a> must return true. </p>

<p>Implements <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a8417cfbc49d425aac62ce622b058b018">operations_research::sat::SatPropagator</a>.</p>

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00134">134</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<a id="a5e72df87e4d6d8fe844dcfae8b597a14" name="a5e72df87e4d6d8fe844dcfae8b597a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e72df87e4d6d8fe844dcfae8b597a14">&#9670;&#160;</a></span>Reason()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt; operations_research::sat::SymmetryPropagator::Reason </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;&#160;</td>
          <td class="paramname"><em>trail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trail_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Explains why the literal at given trail_index was propagated by returning a reason for this propagation. This will only be called for literals that are on the trail and were propagated by this class.</p>
<p>The interpretation is that because all the literals of a reason were assigned to false, we could deduce the assignment of the given variable.</p>
<p>The returned Span has to be valid until the literal is untrailed. A client can use trail_.GetEmptyVectorToStoreReason() if it doesn't have a memory location that already contains the reason. </p>

<p>Reimplemented from <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#aebfb6fb80bf098bfca298973026b7398">operations_research::sat::SatPropagator</a>.</p>

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00155">155</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<a id="a5f2d4a145f2a351c25423b84b5eb047d" name="a5f2d4a145f2a351c25423b84b5eb047d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2d4a145f2a351c25423b84b5eb047d">&#9670;&#160;</a></span>Untrail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::SymmetryPropagator::Untrail </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1sat_1_1Trail.html">Trail</a> &amp;&#160;</td>
          <td class="paramname"><em>trail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trail_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reverts the state so that all the literals with a trail index greater or equal to the given one are not processed for propagation. Note that the trail current decision level is already reverted before this is called.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001888">Todo:</a></b></dt><dd>(user): Currently this is called at each Backtrack(), but we could bundle the calls in case multiple conflict one after the other are detected even before the <a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html#a61cde651dc6dca2f88fdc7d67b900f13">Propagate()</a> call of a <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html" title="Base class for all the SAT constraints.">SatPropagator</a> is called.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001889">Todo:</a></b></dt><dd>(user): It is not yet 100% the case, but this can be guaranteed to be called with a trail index that will always be the start of a new decision level. </dd></dl>

<p>Reimplemented from <a class="el" href="classoperations__research_1_1sat_1_1SatPropagator.html#a68acada7af835c9c6870ceb876dc2d9c">operations_research::sat::SatPropagator</a>.</p>

<p class="definition">Definition at line <a class="el" href="symmetry_8cc_source.html#l00142">142</a> of file <a class="el" href="symmetry_8cc_source.html">symmetry.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="symmetry_8h_source.html">symmetry.h</a></li>
<li>ortools/sat/<a class="el" href="symmetry_8cc_source.html">symmetry.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1SymmetryPropagator.html">SymmetryPropagator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
