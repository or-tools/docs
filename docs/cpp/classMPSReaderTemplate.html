<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: MPSReaderTemplate&lt; DataWrapper &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.10</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classMPSReaderTemplate.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMPSReaderTemplate-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MPSReaderTemplate&lt; DataWrapper &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a61b5e15eb1e39d83fe5197c137d64786" id="r_a61b5e15eb1e39d83fe5197c137d64786"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61b5e15eb1e39d83fe5197c137d64786">IndexType</a> = typename DataWrapper::IndexType</td></tr>
<tr class="memdesc:a61b5e15eb1e39d83fe5197c137d64786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for row and column indices, as provided by <code>DataWrapper</code>.  <br /></td></tr>
<tr class="separator:a61b5e15eb1e39d83fe5197c137d64786"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41dca56e2f203706f6b8eaeb13cadfea" id="r_a41dca56e2f203706f6b8eaeb13cadfea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41dca56e2f203706f6b8eaeb13cadfea">MPSReaderTemplate</a> ()</td></tr>
<tr class="separator:a41dca56e2f203706f6b8eaeb13cadfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15529cf8d70701db7f057de36471747f" id="r_a15529cf8d70701db7f057de36471747f"><td class="memItemLeft" align="right" valign="top">absl::StatusOr&lt; MPSReaderFormat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15529cf8d70701db7f057de36471747f">ParseFile</a> (absl::string_view file_name, DataWrapper *data, MPSReaderFormat form=MPSReaderFormat::kAutoDetect)</td></tr>
<tr class="separator:a15529cf8d70701db7f057de36471747f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49430ceffef60e195a77a20aaf455df" id="r_aa49430ceffef60e195a77a20aaf455df"><td class="memItemLeft" align="right" valign="top">absl::StatusOr&lt; MPSReaderFormat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa49430ceffef60e195a77a20aaf455df">ParseString</a> (absl::string_view source, DataWrapper *data, MPSReaderFormat form=MPSReaderFormat::kAutoDetect)</td></tr>
<tr class="separator:aa49430ceffef60e195a77a20aaf455df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class DataWrapper&gt;<br />
class MPSReaderTemplate&lt; DataWrapper &gt;</div><p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><div class="fragment"><div class="line">http:<span class="comment">//www.apache.org/licenses/LICENSE-2.0</span></div>
</div><!-- fragment --><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. A templated-reader for MPS (Mathematical Programming System) format.</p>
<p>From Wikipedia <a href="https://en.wikipedia.org/wiki/MPS_(format):">https://en.wikipedia.org/wiki/MPS_(format):</a> ``` The format was named after an early IBM LP product[1] and has emerged as a de facto standard ASCII medium among most of the commercial LP solvers.</p>
<p>MPS is column-oriented (as opposed to entering the model as equations), and all model components (variables, rows, etc.) receive names. MPS is an old format, so it is set up for punch cards: Fields start in column 2, 5, 15, 25, 40 and 50. Sections of an MPS file are marked by so-called header cards, which are distinguished by their starting in column 1. Although it is typical to use upper-case throughout the file for historical reasons, many MPS-readers will accept mixed-case for anything except the header cards, and some allow mixed-case anywhere. The names that you choose for the individual entities (constraints or variables) are not important to the solver; one should pick meaningful names, or easy names for a post-processing code to read. ```</p>
<p>For example: <code> NAME TESTPROB ROWS N COST L LIM1 G LIM2 E MYEQN COLUMNS XONE COST 1 LIM1 1 XONE LIM2 1 YTWO COST 4 LIM1 1 YTWO MYEQN -1 ZTHREE COST 9 LIM2 1 ZTHREE MYEQN 1 RHS RHS1 LIM1 5 LIM2 10 RHS1 MYEQN 7 BOUNDS UP BND1 XONE 4 LO BND1 YTWO -1 UP BND1 YTWO 1 ENDATA </code></p>
<dl class="section note"><dt>Note</dt><dd>the example, and the previous paragraph, mention that data must start at given columns in the text. This is commonly referred to as 'fixed' (width) format. In this version of the format, variable and constraint names can contain white space, but they are limited to a maximum width of eight characters, and each <code>section</code> marker must start at column 1.</dd></dl>
<p>A common alternative is the so-called <code>free</code> format; where names can have (in principle) arbitrary length, but no white space, and where each data or section line can start with or without white space. In both cases the number of fields in each line remain unchanged. This implementation supports both <code>fixed</code> and <code>free</code> (width) format.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000856">Todo</a></b></dt><dd>(b/284163180): The current behavior is that in free format header lines do not start with white space, and data lines must start with at least one white space.</dd></dl>
<p>Although there is no <code>one</code> format (as many solvers have expanded it over time to support their own generalizations to MIP; i.e. Mixed Integer (Linear) Programming; most support the sections shown in the previous example.</p>
<p>In what follows, we describe the format and requirements for each of the supported sections. Note that sections must appear in the order in this description, and that optional sections can be skipped altogether, but if they do appear, the must do so in the order in this description.</p>
<dl class="section note"><dt>Note</dt><dd>variables and constraints are declared in the order in which they appear in the file. Lines whose first character is '*' are considered comments and ignored; empty lines are also ignored.</dd></dl>
<p>Section order and data within each section:</p>
<ul>
<li>NAME</li>
</ul>
<p>This optional section has the format: 'NAME &lt;optional_name&gt;&lsquo; / In fixed format, &lt;optional_name&gt; must start at column 15. / / - OBJSENSE / / This optional section specifies the objective direction of the problem (min / or max), by a single line containing either 'MIN&rsquo; or 'MAX'. In fixed format, / this field must start at column 2. If no OBJSENSE section is present, the / problem should be treated as a minimization problem (this is the most widely / used convention, but the actual behavior is implementation defined). / / - ROWS / / This is mandatory section, and each following data line is composed of / lines with two fields: / ' T RowName' / where T is one of: / - N: for no constraint type, usually used to describe objective / coefficients. The first row of type N is used as objective function. If / no row is of type N, then the objective function is zero, and the / problem can be seen a feasibility problem. / - L: for less than or equal, / - G: for greater than or equal, / - E: for equality constraints. / Right hand side of constraints are zero by default (these can be overridden / in sections RHS and RANGES). Repeating a 'RowName' is undefined behavior. In / fixed format, the type appears in column 2 and the row name starts in / column 5. / / - LAZYCONS / / This section is optional, and has the same format (and meaning) as the ROWS / section, i.e. each constraint mentioned here must be new, and each one of / them defines a constraint of the problem. The only difference is that / constraints defined in this section are marked as 'lazy', meaning that there / might be an advantage, when solving the problem, to dynamically add them to / the solving process on the fly. / / - COLUMNS / / This is a mandatory section, and each of the following data lines is / composed of three or five fields with the format: / ' &lt;ColName&gt; &lt;RowName&gt; </p>
<p>&lt;RowName2&gt; &lt;Value2&gt;' / where 'RowName' and 'RowName2' are constraints defined in the ROWS or / LAZYCONS section; 'Value' and 'Value2' are finite values; 'RowName2' and / 'Value2' are optional. The triplet &lt;RowName,ColName,Value&gt; is added to / constraint matrix; and, if present, the triplet &lt;RowName2,ColName,Value2&gt; is / added to the constraint matrix. Note that there is no explicit requirement / that triplets are unique (and how to treat duplicates is / implementation-defined) nor sorted. / / In fixed format, the column name starts in column 5, the row name for the / first non-zero starts in column 15, and the value for the first non-zero / starts in column 25. If a second non-zero is present, the row name starts in / column 40 and the value starts in column 50. / / The COLUMNS section can optionally include (possibly multiple) integrality / markers. Variables mentioned between a pair of markers are assigned type / 'Integer' with binary bounds by default (even if the variable appears for the / first time outside a pair of integrality markers, thus changing its default / bounds). Refer to the BOUNDS section for how to change these bounds. / / The format of these markers is (excluding double quotes): / - " &lt;IgnoredField&gt; 'MARKER' 'INTORG'", / - " &lt;ColName&gt; &lt;RowName&gt; &lt;Value&gt; &lt;RowName2&gt; &lt;Value2&gt;" / ... / - " &lt;ColName&gt; &lt;RowName&gt; &lt;Value&gt; &lt;RowName2&gt; &lt;Value2&gt;" / - " &lt;IgnoredField&gt; 'MARKER' 'INTEND'", / Where the first field is ignored. In fixed format, the fields start in / columns 5, 15 and 40, respectively. Note that the second field must exactly / match 'MARKER', and the third field must be 'INTORG' for opening an integer / section, and 'INTEND' for closing an integer section. / / - RHS / / This is a mandatory section, and each of the following data lines is / composed of three or five fields with the format: / ' &lt;Ignored_Field&gt; &lt;RowName1&gt; &lt;Value1&gt; &lt;OptionalRow2&gt; &lt;OptionalValue2&gt;', / where the first field is ignored, and &lt;RowName&gt; must have been defined in / sections ROWS or LAZYCONS with type E, L or G, and where &lt;Value1&gt; is the / right hand side of &lt;RowName&gt;, and must be a finite value. If &lt;OptionalRow2&gt; / and &lt;OptionalValue2&gt; are present, the same constraints and behavior applies. / In fixed format fields start at columns 2, 5, 15, 40 and 50. / / You can specify an objective 'Offset' by adding the pair &lt;Objective_Name&gt; / &lt;Minus_Offset&gt; in one of the data lines of the RHS section. / / - RANGES / / This is an optional section, and each of the following data lines is / composed of three or five fields: / ' &lt;IgnoredField&gt; &lt;RowName&gt; &lt;Range1&gt; &lt;OptionalRowName2&gt; &lt;OptionalRange2&gt;', / where the first field is ignored, and &lt;RowName&gt; must have been defined in / sections ROWS or LAZYCONS with type E, L or G, and &lt;Range1&gt; must be a finite / value. In fixed format fields must start in columns 2, 5, 15, 40 and 50. / / The effect of specifying a range depends on the sense of the / specified row and whether the range has a positive or negative &lt;Range1&gt;: / ~~~ / Row_type Range_value_sign rhs_lower_limit rhs_upper_limit / G + or - rhs rhs + <code>range</code> / L + or - rhs - <code>range</code> rhs / E + rhs rhs + range / E - rhs + range rhs / ~~~ / If &lt;OptionalRowName2&gt; and &lt;OptionalRange2&gt; are present, the same constraints / and behavior applies. / / - BOUNDS / / Each variable has by default a lower bound of zero, and an upper bound of / infinity, except if the variable is mentioned between integrality markers and / is not mentioned in this section, in which case its lower bound is zero, and / its upper bound is one. / / This is a mandatory section, and each of the following data lines is composed / of three or four fields with the format: / ' &lt;BoundType&gt; &lt;IgnoredField&gt; &lt;ColName&gt; </p>
<p>', / - LO: lower bound for variable, </p>
<p>is mandatory, and / the data line has the effect of setting </p>
<p>&lt;= &lt;ColName&gt;, / - UP: upper bound for variable, </p>
<p>is mandatory, and the / data line has the effect of setting &lt;ColName&gt; &lt;= </p>
<p>, / - FX: for fixed variable, </p>
<p>is mandatory, and the data line has the / effect of setting </p>
<p>&lt;= &lt;ColName&gt; &lt;= </p>
<p>, / - FR: for <code>free</code> variable, </p>
<p>is optional and ignored if present, and / the data line has the effect of setting −∞ &lt;= &lt;ColName&gt; &lt;= ∞, / - MI: infinity lower bound, </p>
<p>is optional and ignored if present, and / the data line has the effect of setting −∞ &lt;= &lt;ColName&gt;, / - PL: infinity upper bound, </p>
<p>is optional and ignored if present, and / the data line has the effect of setting &lt;ColName&gt; &lt;= ∞, / - BV: binary variable, </p>
<p>is optional and ignored if present, and the / data line has the effect of setting 0 &lt;= &lt;ColName&gt; &lt;= 1, / - LI: lower bound for integer variables, same constraints and effect as LO. / - UI: upper bound for integer variables, same constraints and effect as UP. / - SC: stands for semi-continuous and indicates that the variable may be zero, / but if not must be equal to at least the value given (this is not a / common type of variable, and can easily be described in terms of a / binary plus a continuous variable and a constraint linking the two, an / implementation may choose not to support this kind of variable); / </p>
<p>is mandatory, and is only meaningful if it is strictly / positive. / No extra constraints or assumptions are imposed on the order, or the number / of bound constraints on a variable. Each data line is processed sequentially / and its effects enforced; regardless of previously set bounds, explicitly or / by default. / / In fixed format, fields start in columns 2, 5, 15 and 25. / / - INDICATORS / / This is an optional section, and each of the following data lines is / composed of four fields with the format: / ' IF &lt;RowName&gt; &lt;ColName&gt; &lt;BinaryValue&gt;', / where &lt;RowName&gt; is a row defined either in the ROWS or LAZYCONS sections, / &lt;ColName&gt; is forced to be a binary variable (intersecting previously set / bounds with the interval [0,1], and requiring it to be integer); the effect / of the data line is to remove &lt;RowName&gt; from the set of common linear / constraints (which must be satisfied for all feasible solutions), and / instead require the constraint to be satisfied only if the binary variable / &lt;ColName&gt; holds the value &lt;BinaryValue&gt;. / </p><dl class="section note"><dt>Note</dt><dd>integer/primal tolerances on variables have surprising effects: if / a binary variable has the value (1+-tolerance), it is considered to be at / value 1 for the purposes of indicator constraints. / / - ENDDATA / / This is a mandatory section, and it should be the last line in a MPS / file/string. What happens with lines after this section is undefined / behavior. / / Some extended versions (often times incompatible between themselves) of the / format can be seen here: / / <a href="https://www.gurobi.com/documentation/10.0/refman/mps_format.html">https://www.gurobi.com/documentation/10.0/refman/mps_format.html</a> / <a href="https://www.ibm.com/docs/en/icos/22.1.0?topic=standard-records-in-mps-format">https://www.ibm.com/docs/en/icos/22.1.0?topic=standard-records-in-mps-format</a> / <a href="https://lpsolve.sourceforge.net/5.0/mps-format.htm">https://lpsolve.sourceforge.net/5.0/mps-format.htm</a></dd></dl>
<p>namespace <a class="el" href="namespaceoperations__research.html" title="In SWIG mode, we don&#39;t want anything besides these top-level includes.">operations_research</a> {</p>
<p>/ Forms of MPS format supported, either detected automatically, or free / format, or fixed (width) format. enum class MPSReaderFormat { kAutoDetect, kFree, kFixed };</p>
<p>/ Implementation details. namespace internal {</p>
<p>/ Maximum number of 'fields' in an MPS line, either in fixed or free format. static constexpr int kNumMpsFields = 6;</p>
<p>/ Enum for MPS section ids. enum class MPSSectionId { kUnknownSection, kName, kObjsense, kRows, kLazycons, kColumns, kRhs, kRanges, kBounds, kIndicators, kEndData };</p>
<p>/ Represents a single line of an MPS file (or string), and its corresponding / fields. class MPSLineInfo { public: / Creates an <code>MPSLineInfo</code> for <code>line</code>, which should outlive this object. If / the line is a comment line, does not split the line into fields. Returns / InvalidArgumentError if: / * <code>free_form == false</code> and <code>line</code> contains a forbidden character ('\t') / after stripping trailing whitespace, / * <code>free_form == false</code> and <code>line</code> is not in fixed format, or / * if when splitting the line into fields too many fields are detected. static absl::StatusOr&lt;MPSLineInfo&gt; Create(int64_t line_num, bool free_form,
                                            absl::string_view line);</p>
<p>/ Returns a view of the line. absl::string_view GetLine() const { return line_; }</p>
<p>/ </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000857">Todo</a></b></dt><dd>(b/284163180): Fix handling of sections and data in <code>free_form</code>. / Returns true if the line defines a new section. bool IsNewSection() const { return line_[0] != '\0' &amp;&amp; line_[0] != ' '; }</dd></dl>
<p>/ Returns the number of fields in the line. What constitutes a 'field' / depends on the format (fixed or free) used at creation time. See the / previous description of MPS fixed and free formats for more details. int GetFieldsSize() const { return fields_.size(); }</p>
<p>/ Returns the word starting at position 0 in the line. If the line is empty, / or if the line starts with a space, returns <code>""</code>. absl::string_view GetFirstWord() const;</p>
<p>/ Returns true if the line contains a comment (starting with '*') or / if it is a blank line. bool IsCommentOrBlank() const;</p>
<p>/ Helper function that returns the index-th field in the line. / </p><dl class="section note"><dt>Note</dt><dd>what constitutes a 'field' depends on the format of the line / (i.e. free form or fixed form). See the previous description of fixed and / free MPS format for more details. Note that <code>index</code> must be smaller than / <code>GetFieldsSize()</code> and non negative, otherwise the behavior is undefined. / Furthermore, until <code>SplitLineIntoFields</code> is called, <code>GetFieldsSize()</code> is / always zero. absl::string_view GetField(int index) const { return fields_[index]; }</dd></dl>
<p>/ After calling <code>SplitLineIntoFields</code> has been called, returns the offset at / which to start the parsing of fields within the line. See the preceding / discussion on free and fixed MPS format for details on what constitutes a / field in a line. / If in fixed form, the offset is 0. / If in fixed form and the number of fields is odd, it is 1, / otherwise it is 0. / This is useful when processing RANGES and RHS sections. / If <code>SplitLineIntoFields</code> has not been called before, returns 0. int GetFieldOffset() const { return free_form_ ? fields_.size() &amp; 1 : 0; }</p>
<p>/ Returns an absl::InvalidArgumentError with the given error message, / postfixed by the line of the .mps file (number and contents). absl::Status InvalidArgumentError(absl::string_view error_message) const;</p>
<p>/ Appends the line of the .mps file (number and contents) to the / status if it's an error message. absl::Status AppendLineToError(const absl::Status&amp; status) const;</p>
<p>private: MPSLineInfo(int64_t line_num, bool free_form, absl::string_view line) : free_form_{free_form}, line_num_{line_num}, line_{line} {}</p>
<p>/ Splits into fields the line. absl::Status SplitLineIntoFields();</p>
<p>/ Returns true if the line matches the fixed format. bool IsFixedFormat() const;</p>
<p>/ Boolean set to true if the reader expects a free-form MPS file. const bool free_form_;</p>
<p>/ Storage of the fields for the line. absl::InlinedVector&lt;absl::string_view, internal::kNumMpsFields&gt; fields_;</p>
<p>/ The current line number (passed at construction time). const int64_t line_num_;</p>
<p>/ The line being parsed (with ASCII trailing white space removed, that / includes windows end of line, new line, space, vertical tab and horizontal / tab). const absl::string_view line_; };</p>
<p>} // namespace internal</p>
<p>/ Templated <code>MPS</code> reader. The template class <code>DataWrapper</code> must provide: / type: / - <code>IndexType</code>: for indices of rows and columns. / functions: / - <code>void SetUp()</code>: Called before parsing. After this function call, the / internal state of the object should be the same as in creation. / </p><dl class="section note"><dt>Note</dt><dd>this function can be called more than once if using / <code>MPSReaderFormat::kAutoDetect</code> format. / - <code>void CleanUp()</code>: Called once, after parsing has been successful, to / perform any internal clean up if needed. / - <code>double ConstraintLowerBound(IndexType index)</code>: Returns the (currently / stored) lower bound for 'Constraint[index]'; where 'index' is / a value previously returned by <code>FindOrCreateConstraint</code>. / - <code>double ConstraintUpperBound(IndexType index)</code>: Returns the (currently / stored) upper bound for 'Constraint[index]'; where 'index' is / a value previously returned by <code>FindOrCreateConstraint</code>. / - <code>IndexType FindOrCreateConstraint(absl::string_view row_name)</code>: Returns / the (internally assigned) index to the constraint of the given / name. If <code>row_name</code> is new, the constraint must be created with / a zero lower bound and a zero upper bound. / - <code>IndexType FindOrCreateVariable(absl::string_view col_name)</code>: Returns the / (internally assigned) index to the variable of the given name. / Newly created variables should have a zero objective, zero / lower bound, infinity upper bound, and be considered as / 'continuous'. If <code>col_name</code> is new, the variable must be / created with a zero objective coefficient, a zero lower bound, / and an infinity upper bound. / - <code>void SetConstraintBounds(IndexType index,double lower_bound, double
                 upper_bound)</code>: Stores lower and upper bounds for / 'Constraint[index]'. <code>index</code> is a value previously returned by / <code>FindOrCreateConstraint</code>. / - <code>void SetConstraintCoefficient(IndexType row_index, IndexType col_index,
                 double coefficient)</code>: Stores/Adds a new coefficient for the / constraint matrix entry (row_index,col_index); where / <code>row_index</code> is a value previously returned by / <code>FindOrCreateConstraint</code>, and <code>col_index</code> is a value / previously returned by <code>FindOrCreateVariable</code>. / - <code>void SetIsLazy(IndexType row_index)</code>: Marks 'Constraint[row_index]' as a / <code>lazy constraint</code>, meaning that the constraint is part of the / problem definition, but it might be advantageous to add them / as 'cuts' when solving the problem; where <code>row_index</code> is a / value previously returned by <code>FindOrCreateConstraint</code>. / - <code>void SetName(absl::string_view)</code>: Stores the model's name. / - 'void SetObjectiveCoefficient(IndexType index, double coefficient)<code>: Stores</code>coefficient&lsquo; as the new objective coefficient for 'Variable[index]&rsquo;; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.<ul>
<li><code>void SetObjectiveDirection(bool maximize)</code>: If <code>maximize==true</code> the parsed model represents a maximization problem, otherwise, or if the function is never called, the model is a minimization problem.</li>
<li><code>void SetObjectiveOffset(double)</code>: Stores the objective offset of the model.</li>
<li><code>void SetVariableTypeToInteger(IndexType index)</code>: Marks 'Variable[index]' as 'integer'; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.</li>
<li><code>void SetVariableTypeToSemiContinuous(IndexType index)</code>: Marks 'Variable[index]' as 'semi continuous'; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.</li>
<li><code>void SetVariableBounds(IndexType index, double lower_bound, double / upper_bound)</code>: Stores the lower and upper bounds for 'Variable[index]'; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.</li>
<li><code>double VariableLowerBound(IndexType index)</code>: Returns the (currently) stored lower bound for 'Variable[index'; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.</li>
<li><code>double VariableUpperBound(IndexType index)</code>: Returns the (currently) stored upper bound for 'Variable[index'; where <code>index</code> is a value previously returned by <code>FindOrCreateVariable</code>.</li>
<li><code>absl::Status CreateIndicatorConstraint(absl::string_view row_name, / IndexType col_index, bool var_value)</code>: Marks constraint named <code>row_name</code> to be an 'indicator constraint', that should hold if 'Variable[col_index]' holds value 0 if <code>var_value</code>==false, or when 'Variable[col_index]' holds value 1 if <code>var_value</code>==true. Where <code>row_name</code> must have been an argument in a previous call to <code>FindOrCreateConstraint</code>, and <code>col_index</code> is a value previously returned by <code>FindOrCreateVariable</code>. Note that 'Variable[col_index]' should be marked as integer and have bounds in {0,1}. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="mps__reader__template_8h_source.html#l00494">494</a> of file <a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a61b5e15eb1e39d83fe5197c137d64786" name="a61b5e15eb1e39d83fe5197c137d64786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b5e15eb1e39d83fe5197c137d64786">&#9670;&#160;</a></span>IndexType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataWrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classMPSReaderTemplate.html">MPSReaderTemplate</a>&lt; DataWrapper &gt;::IndexType = typename DataWrapper::IndexType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for row and column indices, as provided by <code>DataWrapper</code>. </p>

<p class="definition">Definition at line <a class="el" href="mps__reader__template_8h_source.html#l00497">497</a> of file <a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41dca56e2f203706f6b8eaeb13cadfea" name="a41dca56e2f203706f6b8eaeb13cadfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41dca56e2f203706f6b8eaeb13cadfea">&#9670;&#160;</a></span>MPSReaderTemplate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataWrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMPSReaderTemplate.html">MPSReaderTemplate</a>&lt; DataWrapper &gt;<a class="el" href="classMPSReaderTemplate.html">::MPSReaderTemplate</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000862">Todo</a></b></dt><dd>(user): Support 'SI' (semi integer). </dd></dl>

<p class="definition">Definition at line <a class="el" href="mps__reader__template_8h_source.html#l01144">1144</a> of file <a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a15529cf8d70701db7f057de36471747f" name="a15529cf8d70701db7f057de36471747f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15529cf8d70701db7f057de36471747f">&#9670;&#160;</a></span>ParseFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataWrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; MPSReaderFormat &gt; <a class="el" href="classMPSReaderTemplate.html">MPSReaderTemplate</a>&lt; DataWrapper &gt;::ParseFile </td>
          <td>(</td>
          <td class="paramtype">absl::string_view</td>          <td class="paramname"><span class="paramname"><em>file_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataWrapper *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPSReaderFormat</td>          <td class="paramname"><span class="paramname"><em>form</em></span><span class="paramdefsep"> = </span><span class="paramdefval">MPSReaderFormat::kAutoDetect</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a file in MPS format; if successful, returns the type of MPS format detected (one of <code>kFree</code> or <code>kFixed</code>). If <code>form</code> is either <code>kFixed</code> or <code>kFree</code>, the function will either return <code>kFixed</code> (or <code>kFree</code> respectivelly) if the input data satisfies the format, or an <code>absl::InvalidArgumentError</code> otherwise. </p>

<p class="definition">Definition at line <a class="el" href="mps__reader__template_8h_source.html#l00653">653</a> of file <a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>.</p>

</div>
</div>
<a id="aa49430ceffef60e195a77a20aaf455df" name="aa49430ceffef60e195a77a20aaf455df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa49430ceffef60e195a77a20aaf455df">&#9670;&#160;</a></span>ParseString()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataWrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; MPSReaderFormat &gt; <a class="el" href="classMPSReaderTemplate.html">MPSReaderTemplate</a>&lt; DataWrapper &gt;::ParseString </td>
          <td>(</td>
          <td class="paramtype">absl::string_view</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DataWrapper *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPSReaderFormat</td>          <td class="paramname"><span class="paramname"><em>form</em></span><span class="paramdefsep"> = </span><span class="paramdefval">MPSReaderFormat::kAutoDetect</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a string in MPS format; if successful, returns the type of MPS format detected (one of <code>kFree</code> or <code>kFixed</code>). If <code>form</code> is either <code>kFixed</code> or <code>kFree</code>, the function will either return <code>kFixed</code> (or <code>kFree</code> respectivelly) if the input data satisfies the format, or an <code>absl::InvalidArgumentError</code> otherwise. </p>

<p class="definition">Definition at line <a class="el" href="mps__reader__template_8h_source.html#l00683">683</a> of file <a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ortools/lp_data/<a class="el" href="mps__reader__template_8h_source.html">mps_reader_template.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMPSReaderTemplate.html">MPSReaderTemplate</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
