<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::LinearPropagator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.7</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classoperations__research_1_1sat_1_1LinearPropagator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1sat_1_1LinearPropagator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::LinearPropagator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="linear__propagation_8h_source.html">linear_propagation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for operations_research::sat::LinearPropagator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classoperations__research_1_1sat_1_1LinearPropagator.png" usemap="#operations_5Fresearch::sat::LinearPropagator_map" alt=""/>
  <map id="operations_5Fresearch::sat::LinearPropagator_map" name="operations_5Fresearch::sat::LinearPropagator_map">
<area href="classoperations__research_1_1sat_1_1PropagatorInterface.html" title="Base class for CP like propagators." alt="operations_research::sat::PropagatorInterface" shape="rect" coords="0,0,270,24"/>
<area href="classoperations__research_1_1ReversibleInterface.html" alt="operations_research::ReversibleInterface" shape="rect" coords="280,0,550,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a615cc74a74066501e840dcc2343738ec" id="r_a615cc74a74066501e840dcc2343738ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a615cc74a74066501e840dcc2343738ec">LinearPropagator</a> (<a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *<a class="el" href="gurobi__interface_8cc.html#a0728f23c9a47655d38e0bf1a2f200bcf">model</a>)</td></tr>
<tr class="separator:a615cc74a74066501e840dcc2343738ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638e3d3aaa8e1810ec851c7dca6822cd" id="r_a638e3d3aaa8e1810ec851c7dca6822cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a638e3d3aaa8e1810ec851c7dca6822cd">~LinearPropagator</a> () override</td></tr>
<tr class="separator:a638e3d3aaa8e1810ec851c7dca6822cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74432b1f2031ef1a7257cf98913c7390" id="r_a74432b1f2031ef1a7257cf98913c7390"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a74432b1f2031ef1a7257cf98913c7390">Propagate</a> () final</td></tr>
<tr class="separator:a74432b1f2031ef1a7257cf98913c7390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9ff6befb3551950d650b1778643710" id="r_a6a9ff6befb3551950d650b1778643710"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a6a9ff6befb3551950d650b1778643710">SetLevel</a> (int level) final</td></tr>
<tr class="separator:a6a9ff6befb3551950d650b1778643710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e95cfcc375691350ee68c913978a6a4" id="r_a4e95cfcc375691350ee68c913978a6a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a4e95cfcc375691350ee68c913978a6a4">AddConstraint</a> (absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt; enforcement_literals, absl::Span&lt; const IntegerVariable &gt; vars, absl::Span&lt; const IntegerValue &gt; coeffs, IntegerValue <a class="el" href="routing__constraints_8cc.html#a070da095a863e1b6c860e29e59e6db1b">upper_bound</a>)</td></tr>
<tr class="memdesc:a4e95cfcc375691350ee68c913978a6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new constraint to the propagator.  <br /></td></tr>
<tr class="separator:a4e95cfcc375691350ee68c913978a6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html">operations_research::sat::PropagatorInterface</a></td></tr>
<tr class="memitem:ac4586668025c78c5bc7d0f53b6dd8053 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_ac4586668025c78c5bc7d0f53b6dd8053"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#ac4586668025c78c5bc7d0f53b6dd8053">PropagatorInterface</a> ()=default</td></tr>
<tr class="separator:ac4586668025c78c5bc7d0f53b6dd8053 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2050a6e5fb78d733582e3fe1beb7d9ed inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_a2050a6e5fb78d733582e3fe1beb7d9ed"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a2050a6e5fb78d733582e3fe1beb7d9ed">~PropagatorInterface</a> ()=default</td></tr>
<tr class="separator:a2050a6e5fb78d733582e3fe1beb7d9ed inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dae20ab0eb2f2e21763b14097a150b3 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface" id="r_a1dae20ab0eb2f2e21763b14097a150b3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a1dae20ab0eb2f2e21763b14097a150b3">IncrementalPropagate</a> (const std::vector&lt; int &gt; &amp;watch_indices)</td></tr>
<tr class="separator:a1dae20ab0eb2f2e21763b14097a150b3 inherit pub_methods_classoperations__research_1_1sat_1_1PropagatorInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is meant to supersede both IntegerSumLE and the PrecedencePropagator.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001792">Todo:</a></b></dt><dd>(user): This is a work in progress and is currently incomplete:<ul>
<li>Lack more incremental support for faster propag.</li>
<li>Lack detection and propagation of at least one of these linear is true which can be used to propagate more bound if a variable appear in all these constraint. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="linear__propagation_8h_source.html#l00176">176</a> of file <a class="el" href="linear__propagation_8h_source.html">linear_propagation.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a615cc74a74066501e840dcc2343738ec" name="a615cc74a74066501e840dcc2343738ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a615cc74a74066501e840dcc2343738ec">&#9670;&#160;</a></span>LinearPropagator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::LinearPropagator::LinearPropagator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>we need this class always in sync.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001774">Todo:</a></b></dt><dd>(user): When we start to push too much (Cycle?) we should see what other propagator says before repropagating this one, system for call later? </dd></dl>

<p class="definition">Definition at line <a class="el" href="linear__propagation_8cc_source.html#l00393">393</a> of file <a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a>.</p>

</div>
</div>
<a id="a638e3d3aaa8e1810ec851c7dca6822cd" name="a638e3d3aaa8e1810ec851c7dca6822cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638e3d3aaa8e1810ec851c7dca6822cd">&#9670;&#160;</a></span>~LinearPropagator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">operations_research::sat::LinearPropagator::~LinearPropagator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="linear__propagation_8cc_source.html#l00414">414</a> of file <a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e95cfcc375691350ee68c913978a6a4" name="a4e95cfcc375691350ee68c913978a6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e95cfcc375691350ee68c913978a6a4">&#9670;&#160;</a></span>AddConstraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::LinearPropagator::AddConstraint </td>
          <td>(</td>
          <td class="paramtype">absl::Span&lt; const <a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> &gt;&#160;</td>
          <td class="paramname"><em>enforcement_literals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::Span&lt; const IntegerVariable &gt;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::Span&lt; const IntegerValue &gt;&#160;</td>
          <td class="paramname"><em>coeffs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerValue&#160;</td>
          <td class="paramname"><em>upper_bound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new constraint to the propagator. </p>
<p>Make sure max_variations_ is of correct size. </p><dl class="section note"><dt>Note</dt><dd>we also have a hard limit of 1 &lt;&lt; 29 on the size.</dd></dl>
<p>Initialize constraint data.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001776">Todo:</a></b></dt><dd>(user): we still waste the space in coeffs_buffer_ so that the start are aligned with the variables_buffer_. </dd></dl>
<p>Initialize watchers. Initialy we want everything to be propagated at least once.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001777">Todo:</a></b></dt><dd>(user): With some care, when we cannot propagate or the constraint is not enforced, we could live in_queue_[] at true but not put the constraint in the queue. </dd></dl>
<p>Transposed graph to know which constraint to wake up.</p>
<p>We need both the var entry and its negation to be allocated.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001778">Todo:</a></b></dt><dd>(user): Shall we decide on some ordering here? maybe big coeff first so that we get the largest change in slack? the idea being to propagate large change first in case of cycles. </dd></dl>
<p>We need to be registered to the watcher so <a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a74432b1f2031ef1a7257cf98913c7390">Propagate()</a> is called at the proper priority. But then we rely on modified_vars_.</p>

<p class="definition">Definition at line <a class="el" href="linear__propagation_8cc_source.html#l00500">500</a> of file <a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a>.</p>

</div>
</div>
<a id="a74432b1f2031ef1a7257cf98913c7390" name="a74432b1f2031ef1a7257cf98913c7390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74432b1f2031ef1a7257cf98913c7390">&#9670;&#160;</a></span>Propagate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operations_research::sat::LinearPropagator::Propagate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will be called after one or more literals that are watched by this propagator changed. It will also always be called on the first propagation cycle after registration. </p>
<p>Initial addition. We will clear modified_vars_ on exit.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001775">Todo:</a></b></dt><dd>(user): Abort this propagator as soon as a Boolean is propagated ? so that we always finish the Boolean propagation first. This can happen when we push a bound that has associated Booleans. The idea is to resume from our current state when we are called again. Note however that we have to clear the propagated_by_ info has other propagator might have pushed the same variable further.</dd></dl>
<p>Empty FIFO queue.</p>
<p>Clean-up modified_vars_ to do as little as possible on the next call.</p>

<p>Implements <a class="el" href="classoperations__research_1_1sat_1_1PropagatorInterface.html#a92be510851b26838f85adeec4a92a1b1">operations_research::sat::PropagatorInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="linear__propagation_8cc_source.html#l00460">460</a> of file <a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a>.</p>

</div>
</div>
<a id="a6a9ff6befb3551950d650b1778643710" name="a6a9ff6befb3551950d650b1778643710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9ff6befb3551950d650b1778643710">&#9670;&#160;</a></span>SetLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::LinearPropagator::SetLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initially a reversible class starts at level zero. Increasing the level saves the state of the current old level. Decreasing the level restores the state to what it was at this level and all higher levels are forgotten. Everything done at level zero cannot be backtracked over.</p>
<p>The level is assumed to be non-negative. </p>
<p>If the solver backtracked at any point, we invalidate all our queue and propagated_by information.</p>
<p>Tricky: if we aborted the current propagation because we pushed a Boolean, by default, the <a class="el" href="classoperations__research_1_1sat_1_1GenericLiteralWatcher.html">GenericLiteralWatcher</a> will only call <a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html#a74432b1f2031ef1a7257cf98913c7390">Propagate()</a> again if one of the watched variable changed. With this, it is guaranteed to call it again if it wasn't in the queue already.</p>

<p>Implements <a class="el" href="classoperations__research_1_1ReversibleInterface.html#ae25ce6ee33b736226102678c3a14b1dd">operations_research::ReversibleInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="linear__propagation_8cc_source.html#l00433">433</a> of file <a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="linear__propagation_8h_source.html">linear_propagation.h</a></li>
<li>ortools/sat/<a class="el" href="linear__propagation_8cc_source.html">linear_propagation.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1LinearPropagator.html">LinearPropagator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
