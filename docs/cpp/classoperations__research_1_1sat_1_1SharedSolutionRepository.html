<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::SharedSolutionRepository&lt; ValueType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.12</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1sat_1_1SharedSolutionRepository.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classoperations__research_1_1sat_1_1SharedSolutionRepository-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::SharedSolutionRepository&lt; ValueType &gt; Class Template Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="synchronization_8h_source.html">synchronization.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The solution format used by this class.  <a href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c0eedda28690ca436286776c6b81318" id="r_a9c0eedda28690ca436286776c6b81318"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c0eedda28690ca436286776c6b81318">SharedSolutionRepository</a> (int num_solutions_to_keep, absl::string_view name=&quot;&quot;)</td></tr>
<tr class="separator:a9c0eedda28690ca436286776c6b81318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec2e4d77b6c860bfa19e7982f39f2ab" id="r_a9ec2e4d77b6c860bfa19e7982f39f2ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">NumSolutions</a> () const</td></tr>
<tr class="separator:a9ec2e4d77b6c860bfa19e7982f39f2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8eb1fd322509286c74c06c640ee5fe" id="r_a5e8eb1fd322509286c74c06c640ee5fe"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e8eb1fd322509286c74c06c640ee5fe">GetSolution</a> (int index) const</td></tr>
<tr class="memdesc:a5e8eb1fd322509286c74c06c640ee5fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the solution <a class="el" href="namespaceoperations__research_1_1sat.html#ab0c36038a18f65060a8232934b26cb7e">i</a> where i must be smaller than <a class="el" href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">NumSolutions()</a>.  <br /></td></tr>
<tr class="separator:a5e8eb1fd322509286c74c06c640ee5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87303578a74237f3dcd5f69293187a89" id="r_a87303578a74237f3dcd5f69293187a89"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87303578a74237f3dcd5f69293187a89">GetBestRank</a> () const</td></tr>
<tr class="separator:a87303578a74237f3dcd5f69293187a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cbc62c1268854e0a426243a10a5e18" id="r_a52cbc62c1268854e0a426243a10a5e18"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; const <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52cbc62c1268854e0a426243a10a5e18">GetBestNSolutions</a> (int n) const</td></tr>
<tr class="separator:a52cbc62c1268854e0a426243a10a5e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a24e84af2d22663286d72add786cc9" id="r_af0a24e84af2d22663286d72add786cc9"><td class="memItemLeft" align="right" valign="top">ValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0a24e84af2d22663286d72add786cc9">GetVariableValueInSolution</a> (int var_index, int solution_index) const</td></tr>
<tr class="separator:af0a24e84af2d22663286d72add786cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3979e96964973d704e7a1bd43b95aa27" id="r_a3979e96964973d704e7a1bd43b95aa27"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3979e96964973d704e7a1bd43b95aa27">GetRandomBiasedSolution</a> (absl::BitGenRef random) const</td></tr>
<tr class="memdesc:a3979e96964973d704e7a1bd43b95aa27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a random solution biased towards good solutions.  <br /></td></tr>
<tr class="separator:a3979e96964973d704e7a1bd43b95aa27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691a49b672879b857fa3098bd7ab7ea3" id="r_a691a49b672879b857fa3098bd7ab7ea3"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a691a49b672879b857fa3098bd7ab7ea3">Add</a> (<a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> <a class="el" href="namespaceoperations__research.html#a35a30dc825cd0afa0e095f47118cd3cd">solution</a>)</td></tr>
<tr class="separator:a691a49b672879b857fa3098bd7ab7ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902c7f2bb1e91b85d85bad84726bf89b" id="r_a902c7f2bb1e91b85d85bad84726bf89b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a902c7f2bb1e91b85d85bad84726bf89b">Synchronize</a> ()</td></tr>
<tr class="separator:a902c7f2bb1e91b85d85bad84726bf89b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29c794e92362940032bc32c9971b089" id="r_aa29c794e92362940032bc32c9971b089"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa29c794e92362940032bc32c9971b089">TableLineStats</a> () const</td></tr>
<tr class="separator:aa29c794e92362940032bc32c9971b089"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a41a2815ede04e7d6e795cb25ff64ce06" id="r_a41a2815ede04e7d6e795cb25ff64ce06"><td class="memItemLeft" align="right" valign="top">int64_t num_added_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41a2815ede04e7d6e795cb25ff64ce06">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)=0</td></tr>
<tr class="separator:a41a2815ede04e7d6e795cb25ff64ce06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4324f90d78ed023452a043609042ebe1" id="r_a4324f90d78ed023452a043609042ebe1"><td class="memItemLeft" align="right" valign="top">int64_t num_queried_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4324f90d78ed023452a043609042ebe1">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)=0</td></tr>
<tr class="separator:a4324f90d78ed023452a043609042ebe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5f17efefde3550b7c8a7d71a653390" id="r_aff5f17efefde3550b7c8a7d71a653390"><td class="memItemLeft" align="right" valign="top">int64_t num_synchronization_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff5f17efefde3550b7c8a7d71a653390">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)=0</td></tr>
<tr class="separator:aff5f17efefde3550b7c8a7d71a653390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56154f0e41ed49140ee4780ca820a835" id="r_a56154f0e41ed49140ee4780ca820a835"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt; tmp_indices_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56154f0e41ed49140ee4780ca820a835">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)</td></tr>
<tr class="separator:a56154f0e41ed49140ee4780ca820a835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88944a5e1efa2784362d79d8f3496f5d" id="r_a88944a5e1efa2784362d79d8f3496f5d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt; &gt; solutions_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88944a5e1efa2784362d79d8f3496f5d">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)</td></tr>
<tr class="separator:a88944a5e1efa2784362d79d8f3496f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7ae621ca71a82609bead1bac2d70a7" id="r_a6d7ae621ca71a82609bead1bac2d70a7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt; &gt; new_solutions_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d7ae621ca71a82609bead1bac2d70a7">ABSL_GUARDED_BY</a> (<a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a>)</td></tr>
<tr class="separator:a6d7ae621ca71a82609bead1bac2d70a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a769a8ad3d08cff66ee2b0329d8af17ec" id="r_a769a8ad3d08cff66ee2b0329d8af17ec"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a769a8ad3d08cff66ee2b0329d8af17ec">name_</a></td></tr>
<tr class="separator:a769a8ad3d08cff66ee2b0329d8af17ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba06449973f8cefbcab745c8cbfe4a2f" id="r_aba06449973f8cefbcab745c8cbfe4a2f"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba06449973f8cefbcab745c8cbfe4a2f">num_solutions_to_keep_</a></td></tr>
<tr class="separator:aba06449973f8cefbcab745c8cbfe4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392e764db35244aa00c58db7bb70628d" id="r_a392e764db35244aa00c58db7bb70628d"><td class="memItemLeft" align="right" valign="top">absl::Mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td></tr>
<tr class="separator:a392e764db35244aa00c58db7bb70628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename ValueType&gt;<br />
class operations_research::sat::SharedSolutionRepository&lt; ValueType &gt;</div><p>Thread-safe. Keeps a set of n unique best solution found so far.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002467">Todo</a></b></dt><dd>(user): Maybe add some criteria to only keep solution with an objective really close to the best solution. </dd></dl>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00061">61</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9c0eedda28690ca436286776c6b81318" name="a9c0eedda28690ca436286776c6b81318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c0eedda28690ca436286776c6b81318">&#9670;&#160;</a></span>SharedSolutionRepository()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::SharedSolutionRepository </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_solutions_to_keep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::string_view</td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00063">63</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a56154f0e41ed49140ee4780ca820a835" name="a56154f0e41ed49140ee4780ca820a835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56154f0e41ed49140ee4780ca820a835">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; tmp_indices_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Our two solutions pools, the current one and the new one that will be merged into the current one on each <a class="el" href="#a902c7f2bb1e91b85d85bad84726bf89b">Synchronize()</a> calls. </p>

</div>
</div>
<a id="a88944a5e1efa2784362d79d8f3496f5d" name="a88944a5e1efa2784362d79d8f3496f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88944a5e1efa2784362d79d8f3496f5d">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt; &gt; solutions_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d7ae621ca71a82609bead1bac2d70a7" name="a6d7ae621ca71a82609bead1bac2d70a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d7ae621ca71a82609bead1bac2d70a7">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; <a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a> &gt; &gt; new_solutions_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a41a2815ede04e7d6e795cb25ff64ce06" name="a41a2815ede04e7d6e795cb25ff64ce06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a2815ede04e7d6e795cb25ff64ce06">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t num_added_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4324f90d78ed023452a043609042ebe1" name="a4324f90d78ed023452a043609042ebe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4324f90d78ed023452a043609042ebe1">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t num_queried_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span><span class="mlabel protected">protected</span><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aff5f17efefde3550b7c8a7d71a653390" name="aff5f17efefde3550b7c8a7d71a653390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff5f17efefde3550b7c8a7d71a653390">&#9670;&#160;</a></span>ABSL_GUARDED_BY() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t num_synchronization_ <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::ABSL_GUARDED_BY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a392e764db35244aa00c58db7bb70628d">mutex_</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a691a49b672879b857fa3098bd7ab7ea3" name="a691a49b672879b857fa3098bd7ab7ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691a49b672879b857fa3098bd7ab7ea3">&#9670;&#160;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const typename <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">SharedSolutionRepository</a>&lt; ValueType &gt;::Solution &gt; <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoperations__research_1_1sat_1_1SharedSolutionRepository_1_1Solution.html">Solution</a></td>          <td class="paramname"><span class="paramname"><em>solution</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new solution. Note that it will not be added to the pool of solution right away. One must call Synchronize for this to happen. In order to be deterministic, this will keep all solutions until <a class="el" href="#a902c7f2bb1e91b85d85bad84726bf89b">Synchronize()</a> is called, so we need to be careful not to generate too many solutions at once.</p>
<p>Returns a shared pointer to the solution that was stored in the repository. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00911">911</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a52cbc62c1268854e0a426243a10a5e18" name="a52cbc62c1268854e0a426243a10a5e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cbc62c1268854e0a426243a10a5e18">&#9670;&#160;</a></span>GetBestNSolutions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; const typename <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">SharedSolutionRepository</a>&lt; ValueType &gt;::Solution &gt; &gt; <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::GetBestNSolutions </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sorted and unique.</p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00843">843</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a87303578a74237f3dcd5f69293187a89" name="a87303578a74237f3dcd5f69293187a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87303578a74237f3dcd5f69293187a89">&#9670;&#160;</a></span>GetBestRank()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int64_t <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::GetBestRank </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the rank of the best known solution. You shouldn't call this if <a class="el" href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">NumSolutions()</a> is zero. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00834">834</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a3979e96964973d704e7a1bd43b95aa27" name="a3979e96964973d704e7a1bd43b95aa27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3979e96964973d704e7a1bd43b95aa27">&#9670;&#160;</a></span>GetRandomBiasedSolution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const typename <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">SharedSolutionRepository</a>&lt; ValueType &gt;::Solution &gt; <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::GetRandomBiasedSolution </td>
          <td>(</td>
          <td class="paramtype">absl::BitGenRef</td>          <td class="paramname"><span class="paramname"><em>random</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a random solution biased towards good solutions. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002469">Todo</a></b></dt><dd>(user): Experiments on the best distribution. </dd></dl>
<p>As long as we have solution with the best objective that haven't been explored too much, we select one uniformly. Otherwise, we select a solution from the pool uniformly.</p>
<p>Note(user): Because of the increase of num_selected, this is dependent on the order of call. It should be fine for "determinism" because we do generate the task of a batch always in the same order.</p>
<p>Select all the best solution with a low enough selection count.</p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00874">874</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a5e8eb1fd322509286c74c06c640ee5fe" name="a5e8eb1fd322509286c74c06c640ee5fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8eb1fd322509286c74c06c640ee5fe">&#9670;&#160;</a></span>GetSolution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const typename <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">SharedSolutionRepository</a>&lt; ValueType &gt;::Solution &gt; <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::GetSolution </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the solution <a class="el" href="namespaceoperations__research_1_1sat.html#ab0c36038a18f65060a8232934b26cb7e">i</a> where i must be smaller than <a class="el" href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">NumSolutions()</a>. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00827">827</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="af0a24e84af2d22663286d72add786cc9" name="af0a24e84af2d22663286d72add786cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a24e84af2d22663286d72add786cc9">&#9670;&#160;</a></span>GetVariableValueInSolution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ValueType <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::GetVariableValueInSolution </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>var_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>solution_index</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the variable value of variable 'var_index' from solution 'solution_index' where solution_index must be smaller than <a class="el" href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">NumSolutions()</a> and 'var_index' must be smaller than number of variables. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00865">865</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a9ec2e4d77b6c860bfa19e7982f39f2ab" name="a9ec2e4d77b6c860bfa19e7982f39f2ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec2e4d77b6c860bfa19e7982f39f2ab">&#9670;&#160;</a></span>NumSolutions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::NumSolutions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of current solution in the pool. This will never decrease. </p>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00820">820</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a902c7f2bb1e91b85d85bad84726bf89b" name="a902c7f2bb1e91b85d85bad84726bf89b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902c7f2bb1e91b85d85bad84726bf89b">&#9670;&#160;</a></span>Synchronize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::Synchronize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the current pool of solution with the one recently added. Note that we use a stable ordering of solutions, so the final pool will be independent on the order of the calls to AddSolution() provided that the set of added solutions is the same.</p>
<p>Works in O(num_solutions_to_keep_). </p>
<p>We use a stable sort to keep the num_selected count for the already existing solutions.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002470">Todo</a></b></dt><dd>(user): Introduce a notion of orthogonality to diversify the pool? </dd></dl>

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00924">924</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="aa29c794e92362940032bc32c9971b089" name="aa29c794e92362940032bc32c9971b089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29c794e92362940032bc32c9971b089">&#9670;&#160;</a></span>TableLineStats()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::TableLineStats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00136">136</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a392e764db35244aa00c58db7bb70628d" name="a392e764db35244aa00c58db7bb70628d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392e764db35244aa00c58db7bb70628d">&#9670;&#160;</a></span>mutex_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::Mutex <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel mutable">mutable</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00146">146</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="a769a8ad3d08cff66ee2b0329d8af17ec" name="a769a8ad3d08cff66ee2b0329d8af17ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a769a8ad3d08cff66ee2b0329d8af17ec">&#9670;&#160;</a></span>name_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00143">143</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<a id="aba06449973f8cefbcab745c8cbfe4a2f" name="aba06449973f8cefbcab745c8cbfe4a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba06449973f8cefbcab745c8cbfe4a2f">&#9670;&#160;</a></span>num_solutions_to_keep_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">operations_research::sat::SharedSolutionRepository</a>&lt; ValueType &gt;::num_solutions_to_keep_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="synchronization_8h_source.html#l00144">144</a> of file <a class="el" href="synchronization_8h_source.html">synchronization.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ortools/sat/<a class="el" href="synchronization_8h_source.html">synchronization.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1SharedSolutionRepository.html">SharedSolutionRepository</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
