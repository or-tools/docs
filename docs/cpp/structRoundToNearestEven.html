<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: RoundToNearestEven Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.7</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structRoundToNearestEven.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="structRoundToNearestEven-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RoundToNearestEven Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Is this really necessary? g++ does not like it.  
 <a href="structRoundToNearestEven.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5029fe048b71c7e15b4ec84ba7f986f0" id="r_a5029fe048b71c7e15b4ec84ba7f986f0"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRoundToNearestEven.html#a5029fe048b71c7e15b4ec84ba7f986f0">AddUp</a> (double <a class="el" href="constraint__solver_2table_8cc.html#acb18315d548212835cd8ed4287e6c0b6">a</a>, double <a class="el" href="constraint__solver_2table_8cc.html#a9293e4d29cac928301645070dd307683">b</a>)</td></tr>
<tr class="separator:a5029fe048b71c7e15b4ec84ba7f986f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7899be7b2d1086795f36e36d599dedb0" id="r_a7899be7b2d1086795f36e36d599dedb0"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRoundToNearestEven.html#a7899be7b2d1086795f36e36d599dedb0">AddDown</a> (double <a class="el" href="constraint__solver_2table_8cc.html#acb18315d548212835cd8ed4287e6c0b6">a</a>, double <a class="el" href="constraint__solver_2table_8cc.html#a9293e4d29cac928301645070dd307683">b</a>)</td></tr>
<tr class="separator:a7899be7b2d1086795f36e36d599dedb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Is this really necessary? g++ does not like it. </p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><div class="fragment"><div class="line">http:<span class="comment">//www.apache.org/licenses/LICENSE-2.0</span></div>
</div><!-- fragment --><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Benchmarks for different implementations of interval arithmetic.</p>
<p>The goal of this file is to see how the different possible implementations perform against one another, to get a ballpark estimate of the possible gain of a full hardware implementation of interval arithmetic as proposed in IEEE-1788.</p>
<p>We tried to be as meaningful and simple as possible.</p>
<p>For simpilicity, only addition is implemented, on a single double. We could make things faster, and amortize the cost of changing rounding modes. For example, it is possible, and it is often done, to represent intervals as a pair {min, -max} and only round towards -infinty. This improves things a bit, but far less than having instructions that do not need changing the rounding more. We could have computed the lower bounds of the sums, and then their upper bounds. However, these ideas do not work in the context of a generic bound propagator for arbitrarily complex formulas. Intervals have to be handled in a simple way, for the programmer to be able to use them, and most importantly the rounding mode must be reset to its default after each computation.</p>
<p>AVX512 seems to be a promising direction, albeit incomplete, towards a good hardware implementation of interval computation. </p><dl class="section note"><dt>Note</dt><dd>compile with -mavx512f to get access to avx512.</dd></dl>
<p>Interesting references: What every computer scientist should know about floating-point arithmetic ACM Computing Surveys Volume 23 Issue 1 March 1991 pp 5â€“48 <a href="https://dl.acm.org/doi/10.1145/103162.103163">https://dl.acm.org/doi/10.1145/103162.103163</a> also at <a href="https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf">https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf</a>, with the addendum <a href="https://docs.oracle.com/cd/E37069_01/html/E39019/z400228248508.html">https://docs.oracle.com/cd/E37069_01/html/E39019/z400228248508.html</a>.</p>
<p>Accuracy and Stability of Numerical Algorithms by Nicholas J. Higham. <a href="https://epubs.siam.org/doi/book/10.1137/1.9780898718027">https://epubs.siam.org/doi/book/10.1137/1.9780898718027</a></p>
<p>The program outputs a CSV-formatted summary that is easily pastable in spreadsheets or table generators. ns/it is the number of nanoseconds per iteration.</p>
<p>The correct value for SumOfIntegers is 500000000500000000.000000... The correct value for SumOfSquareRoots is 21081851083600.37596259382529338.</p>
<p>Here is a sample run. Notice the width of the intervals. This is the price to pay for soundness. There exist algorithms to reduce them. See for example <a href="https://www.sciencedirect.com/science/article/pii/S0004370298000538">https://www.sciencedirect.com/science/article/pii/S0004370298000538</a> and the related algorithms. The run was performed on a machine supporting AVX512F. AVX512F rounding masks per instruction make it possible to effectively use interval arithmetic, even though the instructions are not ideal.</p>
<p>Name,ns/it,result SumOfIntegers&lt;RoundToNearestEven&gt;,1.1801, \ [,500000000067108992.00000000000000,500000000067108992.00000000000000,] SumOfIntegers&lt;StdRounding&gt;,19.5461, \ [,499999987755261568.00000000000000,500000013244738176.00000000000000,] SumOfIntegers&lt;LowLevelRounding&gt;,5.71184, \ [,499999987755261568.00000000000000,500000013244738176.00000000000000,] SumOfIntegers&lt;Avx512Rounding&gt;,1.17857, \ [,499999987755261568.00000000000000,500000013244738176.00000000000000,] SumOfSquareRoots&lt;RoundToNearestEven&gt;,2.7984, \ [,21081851083600.55859375000000,21081851083600.55859375000000,] SumOfSquareRoots&lt;StdRounding&gt;,23.91, \ [,21081850394046.03906250000000,21081851773099.68359375000000,] SumOfSquareRoots&lt;LowLevelRounding&gt;,6.64908, \ [,21081850394046.03906250000000,21081851773099.68359375000000,] SumOfSquareRoots&lt;Avx512Rounding&gt;,2.91871, \ [,21081850394046.03906250000000,21081851773099.68359375000000,] </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo002277">Todo:</a></b></dt><dd>(user): make it work on ARM, RISC-V, and POWER. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rounding__modes__benchmark_8cc_source.html#l00113">113</a> of file <a class="el" href="rounding__modes__benchmark_8cc_source.html">rounding_modes_benchmark.cc</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7899be7b2d1086795f36e36d599dedb0" name="a7899be7b2d1086795f36e36d599dedb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7899be7b2d1086795f36e36d599dedb0">&#9670;&#160;</a></span>AddDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double RoundToNearestEven::AddDown </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="rounding__modes__benchmark_8cc_source.html#l00117">117</a> of file <a class="el" href="rounding__modes__benchmark_8cc_source.html">rounding_modes_benchmark.cc</a>.</p>

</div>
</div>
<a id="a5029fe048b71c7e15b4ec84ba7f986f0" name="a5029fe048b71c7e15b4ec84ba7f986f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5029fe048b71c7e15b4ec84ba7f986f0">&#9670;&#160;</a></span>AddUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double RoundToNearestEven::AddUp </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Abuse of language to describe an "interval" computed using the standard round-to-even mode. </p>

<p class="definition">Definition at line <a class="el" href="rounding__modes__benchmark_8cc_source.html#l00116">116</a> of file <a class="el" href="rounding__modes__benchmark_8cc_source.html">rounding_modes_benchmark.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>ortools/util/<a class="el" href="rounding__modes__benchmark_8cc_source.html">rounding_modes_benchmark.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structRoundToNearestEven.html">RoundToNearestEven</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
