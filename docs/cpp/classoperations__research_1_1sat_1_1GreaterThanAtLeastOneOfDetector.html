<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::sat::GreaterThanAtLeastOneOfDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.10</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1sat_1_1GreaterThanAtLeastOneOfDetector.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classoperations__research_1_1sat_1_1GreaterThanAtLeastOneOfDetector-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::sat::GreaterThanAtLeastOneOfDetector Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="precedences_8h_source.html">precedences.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afcac93e0dc2957497d6b749e80d7f4ca" id="r_afcac93e0dc2957497d6b749e80d7f4ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcac93e0dc2957497d6b749e80d7f4ca">Add</a> (<a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a> <a class="el" href="linear__model_8cc.html#a2c015641fdf48f9e1627e4607b49195c">lit</a>, <a class="el" href="structoperations__research_1_1sat_1_1LinearTerm.html">LinearTerm</a> <a class="el" href="constraint__solver_2table_8cc.html#acb18315d548212835cd8ed4287e6c0b6">a</a>, <a class="el" href="structoperations__research_1_1sat_1_1LinearTerm.html">LinearTerm</a> <a class="el" href="namespaceoperations__research_1_1sat.html#aea68c208c5e7f0abb9afc90d9188d3d4">b</a>, IntegerValue lhs, IntegerValue rhs)</td></tr>
<tr class="memdesc:afcac93e0dc2957497d6b749e80d7f4ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a relation lit =&gt; a + b \in [lhs, rhs].  <br /></td></tr>
<tr class="separator:afcac93e0dc2957497d6b749e80d7f4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54971ccb8359a6ce699b946840ac5b0a" id="r_a54971ccb8359a6ce699b946840ac5b0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54971ccb8359a6ce699b946840ac5b0a">AddGreaterThanAtLeastOneOfConstraints</a> (<a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *<a class="el" href="gurobi__interface_8cc.html#a0728f23c9a47655d38e0bf1a2f200bcf">model</a>, bool auto_detect_clauses=false)</td></tr>
<tr class="separator:a54971ccb8359a6ce699b946840ac5b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This collect all enforced linear of size 2 or 1 and detect if at least one of a subset touching the same variable must be true. When this is the case we add a new propagator to propagate that fact.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002078">Todo</a></b></dt><dd>(user): Shall we do that on the main thread before the workers are spawned? note that the probing version need the model to be loaded though. </dd></dl>

<p class="definition">Definition at line <a class="el" href="precedences_8h_source.html#l00473">473</a> of file <a class="el" href="precedences_8h_source.html">precedences.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="afcac93e0dc2957497d6b749e80d7f4ca" name="afcac93e0dc2957497d6b749e80d7f4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcac93e0dc2957497d6b749e80d7f4ca">&#9670;&#160;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operations_research::sat::GreaterThanAtLeastOneOfDetector::Add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Literal.html">Literal</a></td>          <td class="paramname"><span class="paramname"><em>lit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structoperations__research_1_1sat_1_1LinearTerm.html">LinearTerm</a></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structoperations__research_1_1sat_1_1LinearTerm.html">LinearTerm</a></td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerValue</td>          <td class="paramname"><span class="paramname"><em>lhs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntegerValue</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a relation lit =&gt; a + b \in [lhs, rhs]. </p>
<p>We shall only consider positive variable here.</p>

<p class="definition">Definition at line <a class="el" href="precedences_8cc_source.html#l01100">1100</a> of file <a class="el" href="precedences_8cc_source.html">precedences.cc</a>.</p>

</div>
</div>
<a id="a54971ccb8359a6ce699b946840ac5b0a" name="a54971ccb8359a6ce699b946840ac5b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54971ccb8359a6ce699b946840ac5b0a">&#9670;&#160;</a></span>AddGreaterThanAtLeastOneOfConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int operations_research::sat::GreaterThanAtLeastOneOfDetector::AddGreaterThanAtLeastOneOfConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1sat_1_1Model.html">Model</a> *</td>          <td class="paramname"><span class="paramname"><em>model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>auto_detect_clauses</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Advanced usage. To be called once all the constraints have been added to the model. This will detect GreaterThanAtLeastOneOfConstraint(). Returns the number of added constraint.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002090">Todo</a></b></dt><dd>(user): This can be quite slow, add some kind of deterministic limit so that we can use it all the time. </dd></dl>
<p>We have two possible approaches. For now, we prefer the first one except if there is too many clauses in the problem.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002074">Todo</a></b></dt><dd>(user): Do more extensive experiment. Remove the second approach as it is more time consuming? or identify when it make sense. Note that the first approach also allows to use "incomplete" at least one between arcs. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo002075">Todo</a></b></dt><dd>(user): This does not take into account clause of size 2 since they are stored in the <a class="el" href="classoperations__research_1_1sat_1_1BinaryImplicationGraph.html">BinaryImplicationGraph</a> instead. Some ideas specific to size 2:<ul>
<li>There can be a lot of such clauses, but it might be nice to consider them. we need to experiments.</li>
<li>The automatic clause detection might be a better approach and it could be combined with probing. </li>
</ul>
</dd></dl>
<p>It is common that there is only two alternatives to push a variable. In this case, our presolve most likely made sure that the two are controlled by a single Boolean. This allows to detect this and add the appropriate greater than at least one of.</p>
<p>Release the memory, it is not longer needed.</p>

<p class="definition">Definition at line <a class="el" href="precedences_8cc_source.html#l01316">1316</a> of file <a class="el" href="precedences_8cc_source.html">precedences.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/sat/<a class="el" href="precedences_8h_source.html">precedences.h</a></li>
<li>ortools/sat/<a class="el" href="precedences_8cc_source.html">precedences.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1sat.html">sat</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1sat_1_1GreaterThanAtLeastOneOfDetector.html">GreaterThanAtLeastOneOfDetector</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
