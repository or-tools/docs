<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google OR-Tools: operations_research::math_opt::GurobiSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="orLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Google OR-Tools<span id="projectnumber">&#160;v9.12</span>
   </div>
   <div id="projectbrief">a fast and portable software suite for combinatorial optimization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classoperations__research_1_1math__opt_1_1GurobiSolver.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classoperations__research_1_1math__opt_1_1GurobiSolver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">operations_research::math_opt::GurobiSolver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="gurobi__solver_8h_source.html">gurobi_solver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for operations_research::math_opt::GurobiSolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classoperations__research_1_1math__opt_1_1GurobiSolver.png" usemap="#operations_5Fresearch::math_5Fopt::GurobiSolver_map" alt=""/>
  <map id="operations_5Fresearch::math_5Fopt::GurobiSolver_map" name="operations_5Fresearch::math_5Fopt::GurobiSolver_map">
<area href="classoperations__research_1_1math__opt_1_1SolverInterface.html" alt="operations_research::math_opt::SolverInterface" shape="rect" coords="0,0,278,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa521c1122a7faae79b63abea4a039cd2" id="r_aa521c1122a7faae79b63abea4a039cd2"><td class="memItemLeft" align="right" valign="top">absl::StatusOr&lt; SolveResultProto &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa521c1122a7faae79b63abea4a039cd2">Solve</a> (const SolveParametersProto &amp;parameters, const ModelSolveParametersProto &amp;model_parameters, <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a478a3b5e923888a4d846548c2e42d120">MessageCallback</a> message_cb, const CallbackRegistrationProto &amp;callback_registration, <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a813c407204cbf36cb14b4e3dbd5332d2">Callback</a> cb, const <a class="el" href="classoperations__research_1_1SolveInterrupter.html">SolveInterrupter</a> *interrupter) override</td></tr>
<tr class="separator:aa521c1122a7faae79b63abea4a039cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e999532c0e639928f969a72a49a27f1" id="r_a7e999532c0e639928f969a72a49a27f1"><td class="memItemLeft" align="right" valign="top">absl::StatusOr&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e999532c0e639928f969a72a49a27f1">Update</a> (const ModelUpdateProto &amp;model_update) override</td></tr>
<tr class="separator:a7e999532c0e639928f969a72a49a27f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25c8f69567b57e9e04f737af5937e84" id="r_af25c8f69567b57e9e04f737af5937e84"><td class="memItemLeft" align="right" valign="top">absl::StatusOr&lt; ComputeInfeasibleSubsystemResultProto &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af25c8f69567b57e9e04f737af5937e84">ComputeInfeasibleSubsystem</a> (const SolveParametersProto &amp;parameters, <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a478a3b5e923888a4d846548c2e42d120">MessageCallback</a> message_cb, const <a class="el" href="classoperations__research_1_1SolveInterrupter.html">SolveInterrupter</a> *interrupter) override</td></tr>
<tr class="separator:af25c8f69567b57e9e04f737af5937e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html">operations_research::math_opt::SolverInterface</a></td></tr>
<tr class="memitem:a4def5d17d29ae03fd574a1bebc67cfdf inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_a4def5d17d29ae03fd574a1bebc67cfdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a4def5d17d29ae03fd574a1bebc67cfdf">SolverInterface</a> ()=<a class="el" href="namespaceoperations__research_1_1math__opt.html#a31eab0685a86742ac6750e8e2812f0b0">default</a></td></tr>
<tr class="separator:a4def5d17d29ae03fd574a1bebc67cfdf inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25dd4a3815ffdaf3232f4fdaa9305f6c inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_a25dd4a3815ffdaf3232f4fdaa9305f6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a25dd4a3815ffdaf3232f4fdaa9305f6c">SolverInterface</a> (const <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html">SolverInterface</a> &amp;)=delete</td></tr>
<tr class="separator:a25dd4a3815ffdaf3232f4fdaa9305f6c inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57a8f1b841ac381356a7069cfb5336f inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_ac57a8f1b841ac381356a7069cfb5336f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html">SolverInterface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#ac57a8f1b841ac381356a7069cfb5336f">operator=</a> (const <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html">SolverInterface</a> &amp;)=delete</td></tr>
<tr class="separator:ac57a8f1b841ac381356a7069cfb5336f inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9053d6c748ba7ede61b018d2da202417 inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_a9053d6c748ba7ede61b018d2da202417"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a9053d6c748ba7ede61b018d2da202417">~SolverInterface</a> ()=<a class="el" href="namespaceoperations__research_1_1math__opt.html#a31eab0685a86742ac6750e8e2812f0b0">default</a></td></tr>
<tr class="separator:a9053d6c748ba7ede61b018d2da202417 inherit pub_methods_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aae7f0eb0895c4513cf1c1be3aa50c8a3" id="r_aae7f0eb0895c4513cf1c1be3aa50c8a3"><td class="memItemLeft" align="right" valign="top">static absl::StatusOr&lt; std::unique_ptr&lt; <a class="el" href="classoperations__research_1_1math__opt_1_1GurobiSolver.html">GurobiSolver</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae7f0eb0895c4513cf1c1be3aa50c8a3">New</a> (const ModelProto &amp;input_model, const <a class="el" href="structoperations__research_1_1math__opt_1_1SolverInterface_1_1InitArgs.html">SolverInterface::InitArgs</a> &amp;init_args)</td></tr>
<tr class="separator:aae7f0eb0895c4513cf1c1be3aa50c8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classoperations__research_1_1math__opt_1_1SolverInterface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_classoperations__research_1_1math__opt_1_1SolverInterface')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html">operations_research::math_opt::SolverInterface</a></td></tr>
<tr class="memitem:a478a3b5e923888a4d846548c2e42d120 inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_a478a3b5e923888a4d846548c2e42d120"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a478a3b5e923888a4d846548c2e42d120">MessageCallback</a> = std::function&lt;void(const std::vector&lt;std::string&gt;&amp;)&gt;</td></tr>
<tr class="separator:a478a3b5e923888a4d846548c2e42d120 inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813c407204cbf36cb14b4e3dbd5332d2 inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_a813c407204cbf36cb14b4e3dbd5332d2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a813c407204cbf36cb14b4e3dbd5332d2">Callback</a></td></tr>
<tr class="separator:a813c407204cbf36cb14b4e3dbd5332d2 inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccec86e39cd359b38fe5c2bb747bbdd inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface" id="r_adccec86e39cd359b38fe5c2bb747bbdd"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#adccec86e39cd359b38fe5c2bb747bbdd">Factory</a></td></tr>
<tr class="separator:adccec86e39cd359b38fe5c2bb747bbdd inherit pub_types_classoperations__research_1_1math__opt_1_1SolverInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="gurobi__solver_8h_source.html#l00052">52</a> of file <a class="el" href="gurobi__solver_8h_source.html">gurobi_solver.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af25c8f69567b57e9e04f737af5937e84" name="af25c8f69567b57e9e04f737af5937e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25c8f69567b57e9e04f737af5937e84">&#9670;&#160;</a></span>ComputeInfeasibleSubsystem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; ComputeInfeasibleSubsystemResultProto &gt; operations_research::math_opt::GurobiSolver::ComputeInfeasibleSubsystem </td>
          <td>(</td>
          <td class="paramtype">const SolveParametersProto &amp;</td>          <td class="paramname"><span class="paramname"><em>parameters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a478a3b5e923888a4d846548c2e42d120">MessageCallback</a></td>          <td class="paramname"><span class="paramname"><em>message_cb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1SolveInterrupter.html">SolveInterrupter</a> *</td>          <td class="paramname"><span class="paramname"><em>interrupter</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo001025">Todo</a></b></dt><dd>(b/277339044): Remove code duplication with <a class="el" href="#aa521c1122a7faae79b63abea4a039cd2">GurobiSolver::Solve()</a>. </dd></dl>
<p>Need to run GRBupdatemodel before:</p><ol type="1">
<li>setting parameters (to test if the problem is a MIP)</li>
<li>registering callbacks (to test if the problem is a MIP),</li>
</ol>
<p><a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> will silently impose that indicator variables are binary even if not so specified by the user in the model. We return an error here if this is the case to be consistent across solvers.</p>
<p>We must set the parameters before calling RegisterCallback since it changes some parameters depending on the callback registration.</p>
<p>We use a local interrupter that will triggers the calls to <a class="el" href="namespaceoperations__research.html#aeb619744eff82f7f95e58c517f63bc3c">GRBterminate()</a> when either the user interrupter is triggered or when a callback returns a true <code>terminate</code>.</p>
<p>Make an immediate call to <a class="el" href="namespaceoperations__research.html#aeb619744eff82f7f95e58c517f63bc3c">GRBterminate()</a> as soon as this interrupter is triggered (which may immediately happen in the code below when it is chained with the optional user interrupter).</p>
<p>This call may happen too early. This is not an issue since we will repeat this call at each call of the <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> callback. See the comment in <a class="el" href="namespaceoperations__research_1_1math__opt.html#aaa9f3c6eeac117a1480ccd05d8a35e38">GurobiCallbackImpl()</a> for details.</p>
<p>Chain the user interrupter to the local interrupter. If/when the user interrupter is triggered, this triggers the local interrupter. This may happen immediately if the user interrupter is already triggered.</p>
<p>The local interrupter can also be triggered by a callback returning a true <code>terminate</code>.</p>
<p>Here we register the callback when we either have a message callback or a local interrupter. The rationale for doing so when we have only an interrupter is explained in <a class="el" href="namespaceoperations__research_1_1math__opt.html#aaa9f3c6eeac117a1480ccd05d8a35e38">GurobiCallbackImpl()</a>.</p>
<p>We flush message callbacks before testing for <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> error in case where the unfinished line of message would help with the error.</p>
<p>Reset <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> parameters. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo001026">Todo</a></b></dt><dd>(b/277246682): ensure that resetting parameters does not degrade incrementalism performance. </dd></dl>

<p>Implements <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#af7cb6066cb07d63bc4a186bcd4cc802d">operations_research::math_opt::SolverInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="gurobi__solver_8cc_source.html#l03103">3103</a> of file <a class="el" href="gurobi__solver_8cc_source.html">gurobi_solver.cc</a>.</p>

</div>
</div>
<a id="aae7f0eb0895c4513cf1c1be3aa50c8a3" name="aae7f0eb0895c4513cf1c1be3aa50c8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae7f0eb0895c4513cf1c1be3aa50c8a3">&#9670;&#160;</a></span>New()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; std::unique_ptr&lt; <a class="el" href="classoperations__research_1_1math__opt_1_1GurobiSolver.html">GurobiSolver</a> &gt; &gt; operations_research::math_opt::GurobiSolver::New </td>
          <td>(</td>
          <td class="paramtype">const ModelProto &amp;</td>          <td class="paramname"><span class="paramname"><em>input_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structoperations__research_1_1math__opt_1_1SolverInterface_1_1InitArgs.html">SolverInterface::InitArgs</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>init_args</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gurobi__solver_8cc_source.html#l02757">2757</a> of file <a class="el" href="gurobi__solver_8cc_source.html">gurobi_solver.cc</a>.</p>

</div>
</div>
<a id="aa521c1122a7faae79b63abea4a039cd2" name="aa521c1122a7faae79b63abea4a039cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa521c1122a7faae79b63abea4a039cd2">&#9670;&#160;</a></span>Solve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; SolveResultProto &gt; operations_research::math_opt::GurobiSolver::Solve </td>
          <td>(</td>
          <td class="paramtype">const SolveParametersProto &amp;</td>          <td class="paramname"><span class="paramname"><em>parameters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ModelSolveParametersProto &amp;</td>          <td class="paramname"><span class="paramname"><em>model_parameters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a478a3b5e923888a4d846548c2e42d120">MessageCallback</a></td>          <td class="paramname"><span class="paramname"><em>message_cb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CallbackRegistrationProto &amp;</td>          <td class="paramname"><span class="paramname"><em>callback_registration</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a813c407204cbf36cb14b4e3dbd5332d2">Callback</a></td>          <td class="paramname"><span class="paramname"><em>cb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classoperations__research_1_1SolveInterrupter.html">SolveInterrupter</a> *</td>          <td class="paramname"><span class="paramname"><em>interrupter</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Solves the current model (included all updates).</p>
<p>All input arguments are ensured (by solver.cc) to be valid. Furthermore, since all parameters are references or functions (which could be a lambda expression), the implementation should not keep a reference or copy of them, as they may become invalid reference after the invocation if this function.</p>
<p>Parameters <code>message_cb</code>, <code>cb</code> and <code>interrupter</code> are optional. They are nullptr when not set.</p>
<p>When parameter <code>message_cb</code> is not null the value of parameters.enable_output should be ignored the solver should behave as it is was false (i.e. not print anything).</p>
<p>When parameter <code>message_cb</code> is not null and the underlying solver does not supports message callbacks, it should ignore it.</p>
<p>Solvers should return a InvalidArgumentError when called with events on callback_registration that are not supported by the solver for the type of model being solved (for example MIP events if the model is an LP, or events that are not emitted by the solver). Solvers should use <a class="el" href="namespaceoperations__research_1_1math__opt.html#a7b6416ee129e11e10bd16560d739c7e9">CheckRegisteredCallbackEvents()</a> to implement that. </p>
<p>Need to run GRBupdatemodel before:</p><ol type="1">
<li>setting parameters (to test if the problem is a MIP)</li>
<li>registering callbacks (to test if the problem is a MIP),</li>
<li>setting basis and getting the obj sense. We just run it first.</li>
</ol>
<p><a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> returns "infeasible" when bounds are inverted.</p>
<p><a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> will silently impose that indicator variables are binary even if not so specified by the user in the model. We return an error here if this is the case to be consistent across solvers.</p>
<p>We must set the parameters before calling RegisterCallback since it changes some parameters depending on the callback registration.</p>
<p>We use a local interrupter that will triggers the calls to <a class="el" href="namespaceoperations__research.html#aeb619744eff82f7f95e58c517f63bc3c">GRBterminate()</a> when either the user interrupter is triggered or when a callback returns a true <code>terminate</code>.</p>
<p>Make an immediate call to <a class="el" href="namespaceoperations__research.html#aeb619744eff82f7f95e58c517f63bc3c">GRBterminate()</a> as soon as this interrupter is triggered (which may immediately happen in the code below when it is chained with the optional user interrupter).</p>
<p>This call may happen too early. This is not an issue since we will repeat this call at each call of the <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> callback. See the comment in <a class="el" href="namespaceoperations__research_1_1math__opt.html#aaa9f3c6eeac117a1480ccd05d8a35e38">GurobiCallbackImpl()</a> for details.</p>
<p>Chain the user interrupter to the local interrupter. If/when the user interrupter is triggered, this triggers the local interrupter. This may happen immediately if the user interrupter is already triggered.</p>
<p>The local interrupter can also be triggered by a callback returning a true <code>terminate</code>.</p>
<p>We select a value of "1" here, which means that the lazy constraints will be separated at feasible solutions, and that <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> has latitude to select which violated constraints to add to the model if multiple are violated. This seems like a reasonable default choice for us, but we may want to revisit later (or expose this choice to the user).</p>
<p>Here we register the callback when we either have a user callback or a local interrupter. The rationale for doing so when we have only an interrupter is explained in <a class="el" href="namespaceoperations__research_1_1math__opt.html#aaa9f3c6eeac117a1480ccd05d8a35e38">GurobiCallbackImpl()</a>.</p>
<p>We flush message callbacks before testing for <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> error in case where the unfinished line of message would help with the error.</p>
<p>Reset <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> parameters. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo001024">Todo</a></b></dt><dd>(b/277246682): ensure that resetting parameters does not degrade incrementalism performance. </dd></dl>

<p>Implements <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a901a72259555138e63322b5bf6c3f097">operations_research::math_opt::SolverInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="gurobi__solver_8cc_source.html#l02969">2969</a> of file <a class="el" href="gurobi__solver_8cc_source.html">gurobi_solver.cc</a>.</p>

</div>
</div>
<a id="a7e999532c0e639928f969a72a49a27f1" name="a7e999532c0e639928f969a72a49a27f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e999532c0e639928f969a72a49a27f1">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">absl::StatusOr&lt; bool &gt; operations_research::math_opt::GurobiSolver::Update </td>
          <td>(</td>
          <td class="paramtype">const ModelUpdateProto &amp;</td>          <td class="paramname"><span class="paramname"><em>model_update</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates the model to solve and returns true, or returns false if this update is not supported.</p>
<p>The implementation should assume the input ModelUpdate is valid and is free to assert if this is not the case. </p>
<p>As of 2022-12-06 we do not support incrementalism for multi-objective models: not adding/deleting/modifying the auxiliary objectives...</p>
<p>...or modifying the primary objective of a multi-objective model.</p>
<p>Now we update quadratic_objective_coefficients_, removing any terms where either one or both of the involved variables are about to be deleted.</p>
<dl class="section note"><dt>Note</dt><dd>Introducing more state and complexity should speed this up, but we opt for the simpler approach for now.</dd></dl>
<p>We cache all <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a> variables and constraint indices that must be deleted, and perform deletions at the end of the update call.</p>
<p>Otherwise the constraint is not actually registered with <a class="el" href="classoperations__research_1_1math__opt_1_1Gurobi.html">Gurobi</a>.</p>
<p>If we are removing variables or constraints we remove them after adding any variable or constraint. This is to avoid problems with the numbering of possibly new variables and constraints. After that we must update the model so that sequence of updates don't interfere with one-another.</p>
<p>Synchronize all pending changes.</p>

<p>Implements <a class="el" href="classoperations__research_1_1math__opt_1_1SolverInterface.html#a6de754c2e507136a902230670f574c85">operations_research::math_opt::SolverInterface</a>.</p>

<p class="definition">Definition at line <a class="el" href="gurobi__solver_8cc_source.html#l02529">2529</a> of file <a class="el" href="gurobi__solver_8cc_source.html">gurobi_solver.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ortools/math_opt/solvers/<a class="el" href="gurobi__solver_8h_source.html">gurobi_solver.h</a></li>
<li>ortools/math_opt/solvers/<a class="el" href="gurobi__solver_8cc_source.html">gurobi_solver.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceoperations__research.html">operations_research</a></li><li class="navelem"><a class="el" href="namespaceoperations__research_1_1math__opt.html">math_opt</a></li><li class="navelem"><a class="el" href="classoperations__research_1_1math__opt_1_1GurobiSolver.html">GurobiSolver</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
